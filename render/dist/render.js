!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var r=n(8);e.exports={createProperitesPanel:function(e,t,n,i,a,o){for(var s=0;s<n.length;s++)if(a[s]){var l=n[s]+"Layer",u=i[s],c=document.createElement("div");if(c.setAttribute("id","layerById-"+l),c.className="card",c.style.display="none",c.innerHTML="<h3>"+u+" Layer Properties</h3><div class='props'><h4>Opacity</h4><div class='control'><input type='range' min='1' max='100' value='80' class='slider opacity-slider' data-time='no' oninput='window._mintMap.setOpacity(\""+l+'", this.value, this.getAttribute("data-time"))\'></div>',o[s]){let e=window._mintMap.metadata.layers.filter(function(e){return e["source-layer"]===n[s]})[0];c.innerHTML+="<div class='props'><h4>"+e.stepType+(void 0===e.stepOption.prefix?"":" ("+e.stepOption.prefix+")")+'</h4><div class="property-slider" id="property-slider-'+n[s]+'" data-panel="'+n[s]+'"><div></div>';let t=e.step.map(function(t){return"yyyy"===e.stepOption.format?new Date(t,0,1).getTime():"MM"===e.stepOption.format?new Date(parseInt(e.stepOption.prefix),parseInt(t)-1,1).getTime():"dd"===e.stepOption.format?new Date(parseInt(e.stepOption.prefix.substring(0,4)),parseInt(e.stepOption.prefix.substring(4,6))-1,parseInt(t)).getTime():new Date(t).getTime()}),i=t.length-1,a={min:[t[0]],max:[t[i]]},o=a.max-a.min;t.forEach(function(e,n){if(0===n||n===i)return;let r=Math.ceil((e-t[0])/o*100)+"%";a[r]=[e]});let l=parseInt(new Date(a.min[0]).format(e.stepOption.format))%2;window._mintMap.sliderData[n[s]]={start:a.min,snap:!0,range:a,connect:[!0,!1],format:r({decimals:0}),pips:{mode:"steps",density:3,filter:function(t,n){return i>12?parseInt(new Date(t).format(e.stepOption.format))%2==l?1:0:1==n?1:-1},format:{to:function(t){return new Date(t).format(e.stepOption.format)},from:function(t){return"yyyy"===e.stepOption.format?new Date(t,0,1).getTime():(e.stepOption.format,new Date(t).getTime())}}},extraOption:e}}window._mintMap.map.getLayer(l)&&"visible"===window._mintMap.map.getLayoutProperty(l,"visibility")&&(c.style.display="block"),t.appendChild(c)}},updateShowAllDiv:function(e=!0){for(var t=window._polymerMap.mint_map_element.querySelector("#show-all-layers"),n=window._polymerMap.mint_map_element.querySelector("#the-ul-of-layer-list"),r=0;r<window._mintMap.listOfLayersNotAdded.length;r++){let e=n.querySelector("[data-layer-id="+window._mintMap.listOfLayersNotAdded[r].id+"]");e&&e.parentNode.remove()}if(e||"no"!=t.getAttribute("data-show")){var i=document.createElement("ul");for(i.className="tags-list",i.setAttribute("id","show-all-div"),r=0;r<window._mintMap.listOfLayersNotAdded.length;r++){var a=document.createElement("li");a.innerHTML="<a class='tag "+(window._mintMap.listOfLayersNotAdded[r].hasData?"with-data-tag":"no-data-tag")+"' data-layer-id='"+window._mintMap.listOfLayersNotAdded[r].id+"' data-has-data='"+(window._mintMap.listOfLayersNotAdded[r].hasData?"true":"false")+"' data-source-layer='"+window._mintMap.listOfLayersNotAdded[r].source+"' data-file='"+window._mintMap.listOfLayersNotAdded[r].file+"' data-has-timeline='"+(window._mintMap.listOfLayersNotAdded[r].hasTimeline?"true":"false")+"'>"+window._mintMap.listOfLayersNotAdded[r].value+"<div class='tag_close tag_add'></div></a>",i.appendChild(a)}var o=document.createElement("div");o.style.clear="both",i.appendChild(o);var s=window._polymerMap.mint_map_element.querySelector("#show-all-div");s&&s.remove(),window._polymerMap.mint_map_element.querySelector("#theTagList").appendChild(i)}},updatePropertiesSettingBy:function(e,t=!0){var n=window._polymerMap.mint_map_element.querySelector("#layerById-"+e);n.style.display=t?"none":"block"}}},function(e,t){var n=window._polymerMap.mint_map_element;e.exports={removeLegend:function(e){var t=n.querySelector("#map-legend .legend-of-"+e);t.parentNode&&t.parentNode.removeChild(t)},updateLegend:function(e,t,r){var i=n.querySelector("#map-legend"),a=document.createElement("div");a.className="legend-item legend-of-"+r,i.appendChild(a);var o=document.createElement("div");o.className="legend-title",o.innerHTML="Legend of layer <span>#"+r+"</span>:",a.appendChild(o);var s=document.createElement("div");if(s.className="legend-legend",a.appendChild(s),"discrete"==e)for(m=0;m<t.length;m++){var l=t[m].label+"("+t[m].value+")",u=t[m].color,c=document.createElement("div"),p=document.createElement("span");p.className="legend-key",p.style.backgroundColor=u;var d=document.createElement("span");d.innerHTML=l,c.appendChild(p),c.appendChild(d),s.appendChild(c)}else if("linear"==e){var f=document.createElement("div");f.className="bar",u=[];for(var h=[],m=0;m<t.length;m++)u.push(t[m].color),h.push(t[m].value);f.style.background="linear-gradient(to right, "+u.join(",")+")",s.appendChild(f);var y=document.createElement("div");y.className="legend-flex",y.innerHTML="<span>"+h.join("</span><span>")+"</span>",s.appendChild(y)}},drawOriginalBound:function(e,t=""){let n=JSON.parse(window._mintMap.metadata.originalDataset);n.features[0].geometry.coordinates=e;for(var r,i=window._mintMap.map.getStyle().layers,a=0;a<i.length;a++)if("symbol"===i[a].type){r=i[a].id;break}window._mintMap.map.getLayer("boundsOfOriginalDatasets"+t)&&window._mintMap.map.removeLayer("boundsOfOriginalDatasets"+t),window._mintMap.map.getSource("boundsOfOriginalDatasets"+t)?window._mintMap.map.addLayer({id:"boundsOfOriginalDatasets"+t,type:"line",source:"boundsOfOriginalDatasets"+t,layout:{},paint:{"line-width":6,"line-color":"#000","line-opacity":1}},r):window._mintMap.map.addLayer({id:"boundsOfOriginalDatasets"+t,type:"line",source:{type:"geojson",data:n},layout:{},paint:{"line-width":2,"line-color":"#000","line-opacity":.8}},r)},hasLayerNameDisplayed:function(e){return window._mintMap.listOfLayersNotAdded.filter(function(t){return t.value===e}).length>0},updateListOfLayersNotAdded:function(e,t=!0){t?window._mintMap.listOfLayersNotAdded=window._mintMap.listOfLayersNotAdded.filter(function(t){return t.value!==e.layerName}):(window._mintMap.listOfLayersNotAdded=window._mintMap.listOfLayersNotAdded.filter(function(t){return t.value!==e.layerName}),e.hasData?window._mintMap.listOfLayersNotAdded.unshift({label:e.layerName,value:e.layerName,id:e.layerId,hasData:e.hasData,source:e.sourceLayer,file:e.file,hasTimeline:e.hasTimeline}):window._mintMap.listOfLayersNotAdded.unshift({label:e.layerName+" (No data)",value:e.layerName,id:e.layerId,hasData:e.hasData,source:e.sourceLayer,file:""})),window._mintMap.autocomplete.list=window._mintMap.listOfLayersNotAdded}}},function(e,t,n){var r=n(9),{createProperitesPanel:i,updateShowAllDiv:a,updatePropertiesSettingBy:o}=n(0),{removeLegend:s,updateLegend:l,drawOriginalBound:u,hasLayerNameDisplayed:c,updateListOfLayersNotAdded:p}=n(1),d=window._polymerMap.mint_map_element;function f(e){"layers"in window._mintMap.mapInspect.options.queryParameters?-1==window._mintMap.mapInspect.options.queryParameters.layers.indexOf(e)&&window._mintMap.mapInspect.options.queryParameters.layers.push(e):window._mintMap.mapInspect.options.queryParameters.layers=[e]}function h(e){if("layers"in window._mintMap.mapInspect.options.queryParameters){var t=window._mintMap.mapInspect.options.queryParameters.layers.indexOf(e);t>-1&&window._mintMap.mapInspect.options.queryParameters.layers.splice(t,1)}}function m(e){var t=e["source-layer"]+"Layer";let n=window._mintMap.metadata.sourceLayers.indexOf(e["source-layer"]);if(-1===n)return console.log("NO such data"),!1;if(!window._mintMap.metadata.hasData[n])return console.log("hasNoData"),!1;let r=window._mintMap.metadata.layerIds[n],i=(window._mintMap.metadata.layers.filter(function(e){return e.id==r}),window._mintMap.metadata.tiles),s=window._mintMap.metadata.server;"server"in window._mintMap.metadata.layers[0]&&(s=window._mintMap.metadata.layers[0].server);var c=window._mintMap.metadata.layerIds.indexOf(e.id);let d=window._mintMap.metadata.vectorMD5[c];window._mintMap.map.getSource(window._mintMap.metadata.sourceLayers[c])||window._mintMap.map.addSource(window._mintMap.metadata.sourceLayers[c],{type:"vector",tiles:[s+d+i+".pbf"]});let h=window._mintMap.metadata.rasterMD5[c],m=e.id.replace("vector_pbf","raster_png");window._mintMap.map.getSource(m)||window._mintMap.map.addSource(m,{type:"raster",tiles:[s+h+i+".png"],bounds:window._mintMap.bounds}),window._mintMap.map.addLayer({id:t+"_raster",type:"raster",source:e.id.replace("vector_pbf","raster_png"),layout:{visibility:"visible"},paint:{"raster-opacity":.8}}),window._mintMap.map.addLayer({id:t,type:"fill",source:e["source-layer"],"source-layer":e["source-layer"],layout:{visibility:"visible"},paint:{"fill-opacity":0}}),e.hasTimeline&&y(s,i,c,e.id,e["source-layer"],d),window._mintMap.displayed.push(d),f(t),o(t,!1),p({layerName:e.layerName,layerId:e.id,hasData:!0,sourceLayer:e["source-layer"],file:"ckan",hasTimeline:e.hasTimeline},!0),a(!1),fetch("http://jonsnow.usc.edu:8081/mintmap/meta/"+e.id+".json?ver="+Math.random()).then(e=>e.json()).then(n=>{window._mintMap.map.setPaintProperty(t,"fill-color",JSON.parse(n.colormap)),l(n["legend-type"],JSON.parse(n.legend),e["source-layer"]),u(JSON.parse(n.originalDatasetCoordinate),n["source-layer"])}).catch(e=>console.error(e))}function y(e,t,n,i,a,o){let s=o.split("_");if(2!==s.length)return void console.log("VectorMD5 is not designed for timeline");let l=s[0]+"_",u=window._mintMap.metadata.layers.filter(function(e){return e.id===i});if(0===u.length)return void console.log("There is no such layer which id = "+i);let c=u[0];if(c.step.length<=1)return void console.log("There are only one time stamp in the Timeseries");let p=a+"Layer";for(var d=1;d<c.step.length;d++){let n=l+c.step[d],i=r(n),o=a+"vector_pbf"+c.step[d],s=a+"raster_png"+c.step[d];window._mintMap.map.getSource(o)||window._mintMap.map.addSource(o,{type:"vector",tiles:[e+n+t+".pbf"]}),window._mintMap.map.getSource(s)||window._mintMap.map.addSource(s,{type:"raster",tiles:[e+i+t+".png"],bounds:window._mintMap.bounds});let u=p+"_raster_"+c.step[d],f=p+"_vector_"+c.step[d];window._mintMap.map.getLayer(u)||window._mintMap.map.addLayer({id:u,type:"raster",source:s,layout:{visibility:"none"},paint:{"raster-opacity":.8}}),window._mintMap.map.getLayer(f)||window._mintMap.map.addLayer({id:f,type:"fill",source:o,"source-layer":a,layout:{visibility:"none"},paint:{"fill-opacity":0}})}}e.exports={addNewLayerToMap:function(e,t,n,r,i,a=!1){if(!e)return alert("The data source of this layer has not been added! Can not be shown on the window._mintMap.map."),!1;var o=document.createElement("li");o.innerHTML="<a class='tag "+(e?"with-data-tag":"no-data-tag")+"' data-layer-id='"+t+"' data-has-data='"+(e?"true":"false")+"' data-source-layer='"+r+"' data-file='"+i+"' data-has-timeline='"+(a?"true":"false")+"'>"+n+"<div class='tag_close'></div></a>";var s=d.querySelector("#the-ul-of-layer-list"),l=d.querySelector("#the-li-of-add-new-layer");return s.insertBefore(o,l),m({id:t,layerName:n,"source-layer":r,file:i,hasTimeline:a}),!0},removeLayerFromMap:function(e,t=!1){var n=e+"Layer";if(window._mintMap.map.getLayer(n)&&(window._mintMap.map.removeLayer(n),window._mintMap.map.removeLayer(n+"_raster"),s(e),h(n),o(n)),window._mintMap.map.getLayer("boundsOfOriginalDatasets"+e)&&window._mintMap.map.removeLayer("boundsOfOriginalDatasets"+e),t){let t=window._mintMap.metadata.layers.filter(function(t){return t["source-layer"]===e});if(0===t.length)return;let i=t[0].step;for(var r=1;r<i.length;r++){let e=n+"_raster_"+i[r],t=n+"_vector_"+i[r];window._mintMap.map.getLayer(e)&&window._mintMap.map.removeLayer(e),window._mintMap.map.getLayer(t)&&window._mintMap.map.removeLayer(t)}}},updateInspectLayers:f,removeInspectLayers:h,getLastLayerId:function(){var e=window._mintMap.map.getStyle().layers;return e[e.length-1].id},loadLayerFromJson:m,loadTilesOfTimeline:y}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var{addNewLayerToMap:r,removeLayerFromMap:i,updateInspectLayers:a,removeInspectLayers:o,getLastLayerId:s,loadLayerFromJson:l,loadTilesOfTimeline:u}=n(2),{hasLayerNameDisplayed:c}=n(1);function p(){if(!window._mintMap.uiLoaded)return void setTimeout(p,1e3);let e=window._mintMap.metadata;if(0===window._mintMap.variableArray.length)return;let t=[];window._mintMap.displayed.forEach(function(e,n){if(0===window._mintMap.variableArray.filter(function(t){return t.md5===e}).length){let n=window._mintMap.metadata.vectorMD5.indexOf(e),r=window._mintMap.metadata.sourceLayers[n];i(r,window._mintMap.metadata.hasTimeline[n]),o(r+"Layer"),updateListOfLayersNotAdded({layerName:window._mintMap.metadata.layerNames[n],layerId:window._mintMap.metadata.layerIds[n],hasData:!0,sourceLayer:r,file:"ckan",hasTimeline:window._mintMap.metadata.hasTimeline[n]},!1),updateShowAllDiv(!1),t.push(n)}}),t.forEach(function(e,t){window._mintMap.displayed.splice(t,1)});for(var n=0;n<window._mintMap.variableArray.length&&"vectorMD5"in e;n++){let t=e.vectorMD5.indexOf(window._mintMap.variableArray[n].md5);if(-1===t)continue;window._mintMap.displayed.indexOf(e.sourceLayers[t]);c(e.layerNames[t])&&r(e.hasData[t],e.layerIds[t],e.layerNames[t],e.sourceLayers[t],"file",e.hasTimeline[t])}}const d={set:(e,t,n)=>(e[t]=n,"length"===t&&n===window._mintMap.variableArrayCount&&0!==window._mintMap.metadata.length&&(console.log(window._mintMap.variableArray),p()),!0)},f={set(e,t,n){if(e[t]=n,"metadata"===t){window._mintMap.listOfLayersNotAdded=[];let e=n;for(var r=0;r<e.layerNames.length;r++)e.hasData[r]?window._mintMap.listOfLayersNotAdded.push({label:e.layerNames[r],value:e.layerNames[r],id:e.layerIds[r],hasData:e.hasData[r],source:e.sourceLayers[r],file:e.layers[r].file,hasTimeline:e.hasTimeline[r]}):window._mintMap.listOfLayersNotAdded.push({label:e.layerNames[r]+" (No data)",value:e.layerNames[r],id:e.layerIds[r],hasData:e.hasData[r],source:e.sourceLayers[r],file:"",hasTimeline:!1});0!==window._mintMap.variableArray.length&&p()}return!0}};e.exports={handle_variable:p,variableHandler1:d,variableHandler2:f}},function(e,t,n){n(6),n(7);var{createProperitesPanel:r,updateShowAllDiv:i,updatePropertiesSettingBy:a,updateShowAllDiv:i}=n(0),{removeLegend:o,updateLegend:s,drawOriginalBound:l,hasLayerNameDisplayed:u,updateListOfLayersNotAdded:c}=n(1),{addNewLayerToMap:p,removeLayerFromMap:d,updateInspectLayers:f,removeInspectLayers:h,getLastLayerId:m,loadLayerFromJson:y,loadTilesOfTimeline:g}=n(2),v=n(12),{variableHandler1:w}=n(4);window.loadMapLayers=function(e){const t=new Proxy(window._mintMap.variableArray,w);e.accessToken="pk.eyJ1IjoibGlib2xpdSIsImEiOiJjamZ1cXc1cGIwNHlhMnhsYWx0amRrbmdrIn0.d2s82GJZj56n2QUN2WGNsA";var n=window._polymerMap.mint_map_element,r=new e.Map({container:n.querySelector("#map"),style:"mapbox://styles/mapbox/streets-v9",center:[26.3,7.6],zoom:5});window._mintMap.map=r,window._mintMap.map.resize(),setTimeout(function(){window._mintMap.map.resize()},1e3),window._isMapLoaded=!0,window._mintMap.onVariablesChanged=function(e){if(!Array.isArray(e))return console.log("Variables should be an array"),!1;if(0===e.length)return console.log("Variables is empty"),!1;let n=!0;if(e.forEach(function(e,t){"object"!=typeof e?n=!1:"md5"in e||(n=!1)}),!n)return console.log("Items in variables should be an object with format like {name: 'landuse', stdname: 'landuse-standard-name', md5: 'the-md5-hash-from-data-catalog', uri: 'the-uri-from-data-catalog'}"),!1;window._mintMap.variableArrayCount=e.length,t.splice(0,t.length),e.forEach(function(e,n){t.push(e)})},"object"==typeof window._mintMapOnloadVars&&window._mintMap.onVariablesChanged(window._mintMapOnloadVars),window._mintMap.map.on("load",v),n.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("tag_close"))if(e.target.classList.contains("tag_add")){t=e.target.parentElement;if(!p("true"===t.getAttribute("data-has-data"),t.getAttribute("data-layer-id"),t.text,t.getAttribute("data-source-layer"),t.getAttribute("data-file"),"true"===t.getAttribute("data-has-timeline")))return!1;e.target.parentElement.parentElement.remove(),c({layerName:t.text},!0),i(!1)}else{e.target.parentElement.parentElement.remove();var t=e.target.parentElement;d(t.getAttribute("data-source-layer"),"true"==t.getAttribute("data-has-timeline")),c({layerName:t.text,layerId:t.getAttribute("data-layer-id"),hasData:"true"==t.getAttribute("data-has-data"),sourceLayer:t.getAttribute("data-source-layer"),file:t.getAttribute("data-file"),hasTimeline:"true"==t.getAttribute("data-has-timeline")},!1),i(!1)}if("show-all-layers"==e.target.id){var r=n.querySelector("#show-all-layers"),a=n.querySelector("#show-all-div");a?(a.remove(),r.innerHTML="Show All Layers",r.setAttribute("data-show","no")):(i(),r.innerHTML="Hide All Layers",r.setAttribute("data-show","yes"))}}),window._mintMap.map.on("mousemove",function(e){})},function e(){window.mapboxgl&&!window._isMapLoaded?window.loadMapLayers(window.mapboxgl):setTimeout(function(){window._isMapLoaded||e()},1e3)}()},function(e,t){!function(){"use strict";var e=!1,t="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),r="AM PM".split(" "),i='MMMM d""x "at" h:mm tt',a="January February March April May June July August September October November December".split(" "),o="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s=function(){var s=/(d+|f+|F+|h+|m+|H+|M+|s+|t+|x+|y+|z+)/g,f=function(t){return"get"+(e?"UTC":"")+t},h={d:function(){return this[f("Date")]()},dd:function(){return d(this[f("Date")]())},ddd:function(){return l.call(this,!0)},dddd:function(){return l.call(this)},f:function(){return d(d(this[f("Milliseconds")](),3),6,!0).substr(0,1)},ff:function(){return d(d(this[f("Milliseconds")](),3),6,!0).substr(0,2)},fff:function(){return d(d(this[f("Milliseconds")](),3),6,!0).substr(0,3)},ffff:function(){return d(d(this[f("Milliseconds")](),3),6,!0).substr(0,4)},fffff:function(){return d(d(this[f("Milliseconds")](),3),6,!0).substr(0,5)},ffffff:function(){return d(d(this[f("Milliseconds")](),3),6,!0).substr(0,6)},F:function(){var e=d(this[f("Milliseconds")](),3).substr(0,1);return"0"===e?"":e},FF:function(){var e=d(this[f("Milliseconds")](),3).substr(0,2);return"00"===e?"":e},FFF:function(){return d(this[f("Milliseconds")](),3).substr(0,3)},FFFF:function(){return h.FFF.call(this)},FFFFF:function(){return h.FFF.call(this)},FFFFFF:function(){return h.FFF.call(this)},h:function(){var e=this[f("Hours")]();return e>12?e-12:e},hh:function(){var e=this[f("Hours")]();return d(e>12?e-12:e)},m:function(){return this[f("Minutes")]()},mm:function(){return d(this[f("Minutes")]())},H:function(){return this[f("Hours")]()},HH:function(){return d(this[f("Hours")]())},M:function(){return this[f("Month")]()+1},MM:function(){return d(this[f("Month")]()+1)},MMM:function(){return u.call(this,!0)},MMMM:function(){return u.call(this)},s:function(){return this[f("Seconds")]()},ss:function(){return d(this[f("Seconds")]())},tt:function(){return p.call(this)},x:function(){return c.call(this)},y:function(){var e=this[f("FullYear")](),t=e.toString();return e<10?e:t.substr(t.length-2)},yy:function(){return d(this[f("FullYear")](),2)},yyy:function(){var e=this[f("FullYear")](),t=e.toString();return e<1e3?d(e,3):t.substr(t.length-4)},yyyy:function(){return d(this[f("FullYear")](),4)},yyyyy:function(){return d(this[f("FullYear")](),5)},yyyyyy:function(){return d(this[f("FullYear")](),6)},z:function(){var e=this.getTimezoneOffset();return(e>0?"-":"+")+Math.abs(e/60)},zz:function(){var e=this.getTimezoneOffset();return(e>0?"-":"+")+d(Math.abs(e/60))},zzz:function(){var e=this.getTimezoneOffset();return(e>0?"-":"+")+d(Math.abs(e/60))+":"+d(Math.abs(e/60)%1*60)}};return function(){var l,u,p=this;return"string"==typeof arguments[0]?(l=arguments[0],u=arguments[1]):(l=null,u=arguments[0]),u&&(void 0!==u.asUtc&&(e=u.asUtc),u.days&&(t=u.days),u.daysAbbr&&(n=u.daysAbbr),u.designator&&(r=u.designator),u.format&&(i=u.format),u.getDateOrdinal&&(c=u.getDateOrdinal),u.months&&(a=u.months),u.monthsAbbr&&(o=u.monthsAbbr)),l||(l=i),l.replace(s,function(e,t){var n=h[t];return"function"==typeof n?n.call(p):e}).replace(/["']/g,"")}}(),l=function(e){var r=this.getDay();return e?n[r]:t[r]},u=function(e){var t=this.getMonth();return e?o[t]:a[t]},c=function(){var e="th st nd rd th".split(" ");return function(){var t=this.getDate();return t>3&&t<21?e[0]:e[Math.min(t%10,4)]}}(),p=function(){return this.getHours()>=12?r[1]:r[0]},d=function(){var e="000000";return function(t,n,r){return r?(t+e).slice(0,n?Math.min(n,e.length):2):(e+t).slice(-(n?Math.min(n,e.length):2))}}();Date.prototype.format=function(e,t){return s.call(this,e,t)}}()},function(e,t){window._mintMap={setOpacity:()=>{},onresize:()=>{},getLayerNameBySoureLayer:()=>{},variableArrayCount:0,metadata:[],listOfLayersNotAdded:[],displayed:[],variableArray:[],mapInspect:{},uiLoaded:!1,autocomplete:{},toggleClass:()=>{},bounds:[22.4,3.4,37,23.2],sliderData:{}},window._mintMap.onresize=function(){window._polymerMap.mint_map_element.style.height=window._polymerMap.mint_map_element.parentNode.host.clientHeight+"px",window._mintMap.map.resize()},window._mintMap.toggleClass=function(e,t){if(e&&t){var n=e.className,r=n.indexOf(t);-1==r?n+=" "+t:n=n.substr(0,r)+n.substr(r+t.length),e.className=n}},window._mintMap.setOpacity=function(e,t,n="no"){"no"!==n?window._mintMap.map.setPaintProperty(e+"_raster_"+n,"raster-opacity",parseInt(t,10)/100):window._mintMap.map.setPaintProperty(e+"_raster","raster-opacity",parseInt(t,10)/100)},window._mintMap.getLayerNameBySoureLayer=function(e){let t=window._mintMap.metadata.sourceLayers.indexOf(e);if(-1!==t)return window._mintMap.metadata.layerNames[t]}},function(e,t,n){var r,i,a;i=[],void 0===(a="function"==typeof(r=function(){"use strict";var e=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function t(e){return e.split("").reverse().join("")}function n(e,t){return e.substring(0,t.length)===t}function r(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw new Error(t)}function i(e){return"number"==typeof e&&isFinite(e)}function a(e,n,r,a,o,s,l,u,c,p,d,f){var h,m,y,g=f,v="",w="";return s&&(f=s(f)),!!i(f)&&(!1!==e&&0===parseFloat(f.toFixed(e))&&(f=0),f<0&&(h=!0,f=Math.abs(f)),!1!==e&&(f=function(e,t){return e=e.toString().split("e"),(+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(t)}(f,e)),-1!==(f=f.toString()).indexOf(".")?(m=f.split("."),y=m[0],r&&(v=r+m[1])):y=f,n&&(y=t((y=t(y).match(/.{1,3}/g)).join(t(n)))),h&&u&&(w+=u),a&&(w+=a),h&&c&&(w+=c),w+=y,w+=v,o&&(w+=o),p&&(w=p(w,g)),w)}function o(e,t,r,a,o,s,l,u,c,p,d,f){var h,m="";return d&&(f=d(f)),!(!f||"string"!=typeof f)&&(u&&n(f,u)&&(f=f.replace(u,""),h=!0),a&&n(f,a)&&(f=f.replace(a,"")),c&&n(f,c)&&(f=f.replace(c,""),h=!0),o&&function(e,t){return e.slice(-1*t.length)===t}(f,o)&&(f=f.slice(0,-1*o.length)),t&&(f=f.split(t).join("")),r&&(f=f.replace(r,".")),h&&(m+="-"),""!==(m=(m+=f).replace(/[^0-9\.\-.]/g,""))&&(m=Number(m),l&&(m=l(m)),!!i(m)&&m))}function s(t,n,r){var i,a=[];for(i=0;i<e.length;i+=1)a.push(t[e[i]]);return a.push(r),n.apply("",a)}return function t(n){if(!(this instanceof t))return new t(n);"object"==typeof n&&(n=function(t){var n,i,a,o={};for(void 0===t.suffix&&(t.suffix=t.postfix),n=0;n<e.length;n+=1)if(i=e[n],void 0===(a=t[i]))"negative"!==i||o.negativeBefore?"mark"===i&&"."!==o.thousand?o[i]=".":o[i]=!1:o[i]="-";else if("decimals"===i){if(!(a>=0&&a<8))throw new Error(i);o[i]=a}else if("encoder"===i||"decoder"===i||"edit"===i||"undo"===i){if("function"!=typeof a)throw new Error(i);o[i]=a}else{if("string"!=typeof a)throw new Error(i);o[i]=a}return r(o,"mark","thousand"),r(o,"prefix","negative"),r(o,"prefix","negativeBefore"),o}(n),this.to=function(e){return s(n,a,e)},this.from=function(e){return s(n,o,e)})}})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){!function(){var t=n(10),r=n(3).utf8,i=n(11),a=n(3).bin,o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?a.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,p=-1732584194,d=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var h=o._ff,m=o._gg,y=o._hh,g=o._ii;for(f=0;f<s.length;f+=16){var v=u,w=c,b=p,_=d;c=g(c=g(c=g(c=g(c=y(c=y(c=y(c=y(c=m(c=m(c=m(c=m(c=h(c=h(c=h(c=h(c,p=h(p,d=h(d,u=h(u,c,p,d,s[f+0],7,-680876936),c,p,s[f+1],12,-389564586),u,c,s[f+2],17,606105819),d,u,s[f+3],22,-1044525330),p=h(p,d=h(d,u=h(u,c,p,d,s[f+4],7,-176418897),c,p,s[f+5],12,1200080426),u,c,s[f+6],17,-1473231341),d,u,s[f+7],22,-45705983),p=h(p,d=h(d,u=h(u,c,p,d,s[f+8],7,1770035416),c,p,s[f+9],12,-1958414417),u,c,s[f+10],17,-42063),d,u,s[f+11],22,-1990404162),p=h(p,d=h(d,u=h(u,c,p,d,s[f+12],7,1804603682),c,p,s[f+13],12,-40341101),u,c,s[f+14],17,-1502002290),d,u,s[f+15],22,1236535329),p=m(p,d=m(d,u=m(u,c,p,d,s[f+1],5,-165796510),c,p,s[f+6],9,-1069501632),u,c,s[f+11],14,643717713),d,u,s[f+0],20,-373897302),p=m(p,d=m(d,u=m(u,c,p,d,s[f+5],5,-701558691),c,p,s[f+10],9,38016083),u,c,s[f+15],14,-660478335),d,u,s[f+4],20,-405537848),p=m(p,d=m(d,u=m(u,c,p,d,s[f+9],5,568446438),c,p,s[f+14],9,-1019803690),u,c,s[f+3],14,-187363961),d,u,s[f+8],20,1163531501),p=m(p,d=m(d,u=m(u,c,p,d,s[f+13],5,-1444681467),c,p,s[f+2],9,-51403784),u,c,s[f+7],14,1735328473),d,u,s[f+12],20,-1926607734),p=y(p,d=y(d,u=y(u,c,p,d,s[f+5],4,-378558),c,p,s[f+8],11,-2022574463),u,c,s[f+11],16,1839030562),d,u,s[f+14],23,-35309556),p=y(p,d=y(d,u=y(u,c,p,d,s[f+1],4,-1530992060),c,p,s[f+4],11,1272893353),u,c,s[f+7],16,-155497632),d,u,s[f+10],23,-1094730640),p=y(p,d=y(d,u=y(u,c,p,d,s[f+13],4,681279174),c,p,s[f+0],11,-358537222),u,c,s[f+3],16,-722521979),d,u,s[f+6],23,76029189),p=y(p,d=y(d,u=y(u,c,p,d,s[f+9],4,-640364487),c,p,s[f+12],11,-421815835),u,c,s[f+15],16,530742520),d,u,s[f+2],23,-995338651),p=g(p,d=g(d,u=g(u,c,p,d,s[f+0],6,-198630844),c,p,s[f+7],10,1126891415),u,c,s[f+14],15,-1416354905),d,u,s[f+5],21,-57434055),p=g(p,d=g(d,u=g(u,c,p,d,s[f+12],6,1700485571),c,p,s[f+3],10,-1894986606),u,c,s[f+10],15,-1051523),d,u,s[f+1],21,-2054922799),p=g(p,d=g(d,u=g(u,c,p,d,s[f+8],6,1873313359),c,p,s[f+15],10,-30611744),u,c,s[f+6],15,-1560198380),d,u,s[f+13],21,1309151649),p=g(p,d=g(d,u=g(u,c,p,d,s[f+4],6,-145523070),c,p,s[f+11],10,-1120210379),u,c,s[f+2],15,718787259),d,u,s[f+9],21,-343485551),u=u+v>>>0,c=c+w>>>0,p=p+b>>>0,d=d+_>>>0}return t.endian([u,c,p,d])};o._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?a.bytesToString(r):t.bytesToHex(r)}}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){var{createProperitesPanel:r}=n(0),i=n(13),a=n(14),o=n(15),s=n(25),l=n(26),{variableHandler2:u}=n(4),{addNewLayerToMap:c,removeLayerFromMap:p,updateInspectLayers:d,removeInspectLayers:f,getLastLayerId:h,loadLayerFromJson:m,loadTilesOfTimeline:y}=n(2);const g=new Proxy(window._mintMap,u);e.exports=function(){var e=new MapboxGeocoder({accessToken:window.mapboxgl.accessToken,localGeocoder:s,zoom:10,bbox:[22.9,3.3,36.5,12.5],placeholder:"Try: 29.7, 7.9"});window._mintMap.mapInspect=new o({showInspectButton:!1,showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!1,renderPopup:function(e){return l.renderFeatures(e)}}),window._mintMap.map.addControl(window._mintMap.mapInspect),fetch("http://jonsnow.usc.edu:8081/mintmap/meta/metadata.json?ver="+Math.random()).then(e=>e.json()).then(t=>{g.metadata=t;var n=document.createElement("div");n.className="settingsWrapper";var o=document.createElement("div");o.className="collapse-control",o.innerHTML="",o.onclick=function(e){window._mintMap.toggleClass(window._polymerMap.mint_map_element.querySelector(".settingsWrapper"),"slideDown"),window._polymerMap.mint_map_element.querySelector(".settings").scrollTo(0,0)},n.appendChild(o);var s=document.createElement("div");s.className="settings",n.appendChild(s);var l=document.createElement("div");l.setAttribute("id","layerSwitch"),s.appendChild(l);var u=document.createElement("div");u.className="variableTitle",u.innerHTML="<h2>Layers</h2>",s.appendChild(u);var p=document.createElement("div");p.setAttribute("id","theTagList"),p.className="layerList tags";var d=document.createElement("ul");d.setAttribute("id","the-ul-of-layer-list"),d.className="tags-list";var f=document.createElement("li");f.setAttribute("id","the-li-of-add-new-layer"),f.innerHTML='<a id=\'add-new-layer\' class=\'tag function-tag\' onclick=\'this.style.display="none";window._polymerMap.mint_map_element.querySelector("#search-new-layer").style.display="block";window._polymerMap.mint_map_element.querySelector("#search-new-layer").value="";window._polymerMap.mint_map_element.querySelector("#search-new-layer").focus();window._polymerMap.mint_map_element.querySelector("#the-li-of-add-new-layer .awesomplete").style.display = "inline-block";return false;\'>Add New Layer</a><input id=\'search-new-layer\' class=\'awesomplete\' style=\'display:none\' placeholder=\'Search new layers\'>';var h=document.createElement("li");h.innerHTML="<a id='show-all-layers' class='tag function-tag' data-show='no' style='display:none'>Show All Layers</a>",d.appendChild(f),d.appendChild(h),p.appendChild(d),s.appendChild(p);var m=document.createElement("div");m.style="position: relative;",m.className="properties",r(s,m,t.sourceLayers,t.layerNames,t.hasData,t.hasTimeline),s.appendChild(m),window._polymerMap.mint_map_element.querySelector(".geocoder").appendChild(e.onAdd(window._mintMap.map)),window._polymerMap.mint_map_element.querySelector(".geocoder").appendChild(n),window._polymerMap.mint_map_element.querySelectorAll(".property-slider").forEach(function(e,t){let n=e.getAttribute("data-panel");a.create(e,window._mintMap.sliderData[n]),e.noUiSlider.on("update",function(e,t){}),e.noUiSlider.on("change",function(t,r){let i=new Date(parseInt(t[r]));if(isNaN(i.getTime()))return void console.log("slider time stamp is wrong!");window._mintMap.mapInspect._popup.isOpen()&&window._mintMap.mapInspect._popup.remove();let a=e.parentElement.parentElement.querySelector(".opacity-slider").value,o=window._mintMap.sliderData[n].extraOption,s=i.format(o.stepOption.format),l=n+"Layer_raster_"+s;e.parentElement.parentElement.querySelector(".opacity-slider").setAttribute("data-time",s),s===o.step[0]&&(l=n+"Layer_raster",e.parentElement.parentElement.querySelector(".opacity-slider").setAttribute("data-time","no")),window._mintMap.map.setPaintProperty(l,"raster-opacity",parseInt(a,10)/100),"visible"!==window._mintMap.map.getLayoutProperty(l,"visibility")&&window._mintMap.map.setLayoutProperty(l,"visibility","visible"),o.step.map(function(e,t){let r=n+"Layer_raster_"+e;0===t&&(r=n+"Layer_raster"),r!==l&&window._mintMap.map.setLayoutProperty(r,"visibility","none")})})});var y=window._polymerMap.mint_map_element.querySelector("#search-new-layer");window._mintMap.autocomplete=new i(y,{list:window._mintMap.listOfLayersNotAdded,maxItems:5,minChars:1,autoFirst:!0}),i.$.bind(y,{"awesomplete-selectcomplete":function(e){var n=e.text.value,r=t.layerNames.indexOf(n);-1!=r&&(c(t.hasData[r],t.layerIds[r],t.layerNames[r],t.sourceLayers[r],t.hasData[r]?t.layers[r].file:"",t.hasTimeline[r])&&(window._mintMap.listOfLayersNotAdded=window._mintMap.listOfLayersNotAdded.filter(function(e){return e.value!==t.layerNames[r]}),window._mintMap.autocomplete.list=window._mintMap.listOfLayersNotAdded),window._polymerMap.mint_map_element.querySelector("#search-new-layer").style.display="none",window._polymerMap.mint_map_element.querySelector("#add-new-layer").style.display="block",window._polymerMap.mint_map_element.querySelector("#the-li-of-add-new-layer .awesomplete").style.display="none")}}),window._mintMap.uiLoaded=!0},e=>{console.log(e)}),window._mintMap.map.addControl(new mapboxgl.NavigationControl)}},function(e,t,n){!function(){var t=function(e,n){var r=this;t.count=(t.count||0)+1,this.count=t.count,this.isOpened=!1,this.input=i(e),this.input.setAttribute("autocomplete","awesomplete"),this.input.setAttribute("aria-owns","awesomplete_list_"+this.count),this.input.setAttribute("role","combobox"),this.options=n=n||{},function(e,t,n){for(var r in t){var i=t[r],a=e.input.getAttribute("data-"+r.toLowerCase());"number"==typeof i?e[r]=parseInt(a):!1===i?e[r]=null!==a:i instanceof Function?e[r]=null:e[r]=a,e[r]||0===e[r]||(e[r]=r in n?n[r]:i)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:t.DATA,filter:t.FILTER_CONTAINS,sort:!1!==n.sort&&t.SORT_BYLENGTH,container:t.CONTAINER,item:t.ITEM,replace:t.REPLACE,tabSelect:!1},n),this.index=-1,this.container=this.container(e),this.ul=i.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(e){var t=e.keyCode;r.opened&&(13===t&&r.selected?(e.preventDefault(),r.select()):9===t&&r.selected&&r.tabSelect?r.select():27===t?r.close({reason:"esc"}):38!==t&&40!==t||(e.preventDefault(),r[38===t?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(e){e.preventDefault()},click:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&(e.preventDefault(),r.select(t,e.target))}}}},i.bind(this.input,this._events.input),i.bind(this.input.form,this._events.form),i.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],t.all.push(this)};function n(e){var t=Array.isArray(e)?{label:e[0],value:e[1]}:"object"==typeof e&&"label"in e&&"value"in e?e:{label:e,value:e};this.label=t.label||t.value,this.value=t.value}t.prototype={set list(e){if(Array.isArray(e))this._list=e;else if("string"==typeof e&&e.indexOf(",")>-1)this._list=e.split(/\s*,\s*/);else if((e=i(e))&&e.children){var t=[];r.apply(e.children).forEach(function(e){if(!e.disabled){var n=e.textContent.trim(),r=e.value||n,i=e.label||n;""!==r&&t.push({label:i,value:r})}}),this._list=t}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(e){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,this.status.setAttribute("hidden",""),i.fire(this.input,"awesomplete-close",e||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.status.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),i.fire(this.input,"awesomplete-open")},destroy:function(){if(i.unbind(this.input,this._events.input),i.unbind(this.input.form,this._events.form),!this.options.container){var e=this.container.parentNode;e.insertBefore(this.input,this.container),e.removeChild(this.container)}this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=t.all.indexOf(this);-1!==n&&t.all.splice(n,1)},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:e?0:-1)},previous:function(){var e=this.ul.children.length,t=this.index-1;this.goto(this.selected&&-1!==t?t:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent+", list item "+(e+1)+" of "+t.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=t[e].offsetTop-this.ul.clientHeight+t[e].clientHeight,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(e,t){if(e?this.index=i.siblingIndex(e):e=this.ul.children[this.index],e){var n=this.suggestions[this.index];i.fire(this.input,"awesomplete-select",{text:n,origin:t||e})&&(this.replace(n),this.close({reason:"select"}),i.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var e=this,t=this.input.value;t.length>=this.minChars&&this._list&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(r){return new n(e.data(r,t))}).filter(function(n){return e.filter(n,t)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(n,r){e.ul.appendChild(e.item(n,t,r))}),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}},t.all=[],t.FILTER_CONTAINS=function(e,t){return RegExp(i.regExpEscape(t.trim()),"i").test(e)},t.FILTER_STARTSWITH=function(e,t){return RegExp("^"+i.regExpEscape(t.trim()),"i").test(e)},t.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},t.CONTAINER=function(e){return i.create("div",{className:"awesomplete",around:e})},t.ITEM=function(e,t,n){var r=""===t.trim()?e:e.replace(RegExp(i.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:r,"aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+n})},t.REPLACE=function(e){this.input.value=e.value},t.DATA=function(e){return e},Object.defineProperty(n.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),n.prototype.toString=n.prototype.valueOf=function(){return""+this.label};var r=Array.prototype.slice;function i(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function a(e,t){return r.call((t||document).querySelectorAll(e))}function o(){a("input.awesomplete").forEach(function(e){new t(e)})}i.create=function(e,t){var n=document.createElement(e);for(var r in t){var a=t[r];if("inside"===r)i(a).appendChild(n);else if("around"===r){var o=i(a);o.parentNode.insertBefore(n,o),n.appendChild(o),null!=o.getAttribute("autofocus")&&o.focus()}else r in n?n[r]=a:n.setAttribute(r,a)}return n},i.bind=function(e,t){if(e)for(var n in t){var r=t[n];n.split(/\s+/).forEach(function(t){e.addEventListener(t,r)})}},i.unbind=function(e,t){if(e)for(var n in t){var r=t[n];n.split(/\s+/).forEach(function(t){e.removeEventListener(t,r)})}},i.fire=function(e,t,n){var r=document.createEvent("HTMLEvents");for(var i in r.initEvent(t,!0,!0),n)r[i]=n[i];return e.dispatchEvent(r)},i.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof self&&(self.Awesomplete=t),"undefined"!=typeof Document&&("loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)),t.$=i,t.$$=a,e.exports&&(e.exports=t)}()},function(e,t,n){var r,i,a;/*! nouislider - 12.1.0 - 10/25/2018 */i=[],void 0===(a="function"==typeof(r=function(){"use strict";var e="12.1.0";function t(e){return null!==e&&void 0!==e}function n(e){e.preventDefault()}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function i(e,t,n){n>0&&(l(e,t),setTimeout(function(){u(e,t)},n))}function a(e){return Math.max(Math.min(e,100),0)}function o(e){return Array.isArray(e)?e:[e]}function s(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function l(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function c(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||""),r=t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,i=t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:i}}function p(e,t){return 100/(t-e)}function d(e,t){return 100*t/(e[1]-e[0])}function f(e,t){for(var n=1;e>=t[n];)n+=1;return n}function h(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=f(n,e),i=e[r-1],a=e[r],o=t[r-1],s=t[r];return o+function(e,t){return d(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([i,a],n)/p(o,s)}function m(e,t,n,r){if(100===r)return r;var i=f(r,e),a=e[i-1],o=e[i];return n?r-a>(o-a)/2?o:a:t[i-1]?e[i-1]+function(e,t){return Math.round(e/t)*t}(r-e[i-1],t[i-1]):r}function y(t,n,i){var a;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' contains invalid value.");if(!r(a="min"===t?0:"max"===t?100:parseFloat(t))||!r(n[0]))throw new Error("noUiSlider ("+e+"): 'range' value isn't numeric.");i.xPct.push(a),i.xVal.push(n[0]),a?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function g(e,t,n){if(!t)return!0;n.xSteps[e]=d([n.xVal[e],n.xVal[e+1]],t)/p(n.xPct[e],n.xPct[e+1]);var r=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],i=Math.ceil(Number(r.toFixed(3))-1),a=n.xVal[e]+n.xNumSteps[e]*i;n.xHighestCompleteStep[e]=a}function v(e,t,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var i=[];for(r in e)e.hasOwnProperty(r)&&i.push([e[r],r]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(e,t){return e[0][0]-t[0][0]}):i.sort(function(e,t){return e[0]-t[0]}),r=0;r<i.length;r++)y(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)g(r,this.xNumSteps[r],this)}v.prototype.getMargin=function(t){var n=this.xNumSteps[0];if(n&&t/n%1!=0)throw new Error("noUiSlider ("+e+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&d(this.xVal,t)},v.prototype.toStepping=function(e){return e=h(this.xVal,this.xPct,e)},v.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var r=f(n,t),i=e[r-1],a=e[r],o=t[r-1],s=t[r];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([i,a],(n-o)*p(o,s))}(this.xVal,this.xPct,e)},v.prototype.getStep=function(e){return e=m(this.xPct,this.xSteps,this.snap,e)},v.prototype.getNearbySteps=function(e){var t=f(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},v.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(s);return Math.max.apply(null,e)},v.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var w={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function b(t){if(function(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(t))return!0;throw new Error("noUiSlider ("+e+"): 'format' requires 'to' and 'from' methods.")}function _(t,n){if(!r(n))throw new Error("noUiSlider ("+e+"): 'step' is not numeric.");t.singleStep=n}function M(t,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+e+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+e+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new v(n,t.snap,t.singleStep)}function S(t,n){if(n=o(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+e+"): 'start' option is incorrect.");t.handles=n.length,t.start=n}function x(t,n){if(t.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'snap' option must be a boolean.")}function L(t,n){if(t.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'animate' option must be a boolean.")}function O(t,n){if(t.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+e+"): 'animationDuration' option must be a number.")}function A(t,n){var r,i=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(r=1;r<t.handles;r++)i.push(n);i.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==t.handles+1)throw new Error("noUiSlider ("+e+"): 'connect' option doesn't match handle count.");i=n}t.connect=i}function E(t,n){switch(n){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+e+"): 'orientation' option is invalid.")}}function N(t,n){if(!r(n))throw new Error("noUiSlider ("+e+"): 'margin' option must be numeric.");if(0!==n&&(t.margin=t.spectrum.getMargin(n),!t.margin))throw new Error("noUiSlider ("+e+"): 'margin' option is only supported on linear sliders.")}function C(t,n){if(!r(n))throw new Error("noUiSlider ("+e+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit||t.handles<2)throw new Error("noUiSlider ("+e+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function T(t,n){if(!r(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!r(n[0])&&!r(n[1]))throw new Error("noUiSlider ("+e+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){if(Array.isArray(n)||(n=[n,n]),t.padding=[t.spectrum.getMargin(n[0]),t.spectrum.getMargin(n[1])],!1===t.padding[0]||!1===t.padding[1])throw new Error("noUiSlider ("+e+"): 'padding' option is only supported on linear sliders.");if(t.padding[0]<0||t.padding[1]<0)throw new Error("noUiSlider ("+e+"): 'padding' option must be a positive number(s).");if(t.padding[0]+t.padding[1]>=100)throw new Error("noUiSlider ("+e+"): 'padding' option must not exceed 100% of the range.")}}function j(t,n){switch(n){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+e+"): 'direction' option was not recognized.")}}function k(t,n){if("string"!=typeof n)throw new Error("noUiSlider ("+e+"): 'behaviour' must be a string containing options.");var r=n.indexOf("tap")>=0,i=n.indexOf("drag")>=0,a=n.indexOf("fixed")>=0,o=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0,l=n.indexOf("unconstrained")>=0;if(a){if(2!==t.handles)throw new Error("noUiSlider ("+e+"): 'fixed' behaviour must be used with 2 handles");N(t,t.start[1]-t.start[0])}if(l&&(t.margin||t.limit))throw new Error("noUiSlider ("+e+"): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||o,drag:i,fixed:a,snap:o,hover:s,unconstrained:l}}function I(t,n){if(!1!==n)if(!0===n){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(!0)}else{if(t.tooltips=o(n),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+e+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+e+"): 'tooltips' must be passed a formatter or 'false'.")})}}function P(e,t){e.ariaFormat=t,b(t)}function D(e,t){e.format=t,b(t)}function F(t,n){if(t.keyboardSupport=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+e+"): 'keyboardSupport' option must be a boolean.")}function H(e,t){e.documentElement=t}function z(t,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+e+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=n}function U(t,n){if("object"!=typeof n)throw new Error("noUiSlider ("+e+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var r in t.cssClasses={},n)n.hasOwnProperty(r)&&(t.cssClasses[r]=t.cssPrefix+n[r]);else t.cssClasses=n}function B(n){var r={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:w,format:w},i={step:{r:!1,t:_},start:{r:!0,t:S},connect:{r:!0,t:A},direction:{r:!0,t:j},snap:{r:!1,t:x},animate:{r:!1,t:L},animationDuration:{r:!1,t:O},range:{r:!0,t:M},orientation:{r:!1,t:E},margin:{r:!1,t:N},limit:{r:!1,t:C},padding:{r:!1,t:T},behaviour:{r:!0,t:k},ariaFormat:{r:!1,t:P},format:{r:!1,t:D},tooltips:{r:!1,t:I},keyboardSupport:{r:!0,t:F},documentElement:{r:!1,t:H},cssPrefix:{r:!0,t:z},cssClasses:{r:!0,t:U}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};n.format&&!n.ariaFormat&&(n.ariaFormat=n.format),Object.keys(i).forEach(function(o){if(!t(n[o])&&void 0===a[o]){if(i[o].r)throw new Error("noUiSlider ("+e+"): '"+o+"' is required.");return!0}i[o].t(r,t(n[o])?n[o]:a[o])}),r.pips=n.pips;var o=document.createElement("div"),s=void 0!==o.style.msTransform,l=void 0!==o.style.transform;return r.transformRule=l?"transform":s?"msTransform":"webkitTransform",r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function q(t,r,s){var p,d,f,h,m,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},g=window.CSS&&CSS.supports&&CSS.supports("touch-action","none"),v=g&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),w=t,b=[],_=[],M=0,S=r.spectrum,x=[],L={},O=t.ownerDocument,A=r.documentElement||O.documentElement,E=O.body,N=-1,C=0,T=1,j=2,k=("rtl"===O.dir||r.ort,0);function I(e,t){var n=O.createElement("div");return t&&l(n,t),e.appendChild(n),n}function P(e,t){var n=I(e,r.cssClasses.origin),i=I(n,r.cssClasses.handle);return i.setAttribute("data-handle",t),r.keyboardSupport&&i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?l(i,r.cssClasses.handleLower):t===r.handles-1&&l(i,r.cssClasses.handleUpper),n}function D(e,t){return!!t&&I(e,r.cssClasses.connect)}function F(e,t){return!!r.tooltips[t]&&I(e.firstChild,r.cssClasses.tooltip)}function H(e,t,n){var i=O.createElement("div"),a=[];a[C]=r.cssClasses.valueNormal,a[T]=r.cssClasses.valueLarge,a[j]=r.cssClasses.valueSub;var o=[];o[C]=r.cssClasses.markerNormal,o[T]=r.cssClasses.markerLarge,o[j]=r.cssClasses.markerSub;var s=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],u=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function c(e,t){var n=t===r.cssClasses.value,i=n?s:u,l=n?a:o;return t+" "+i[r.ort]+" "+l[e]}return l(i,r.cssClasses.pips),l(i,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(a){!function(e,a,o){if((o=t?t(a,o):o)!==N){var s=I(i,!1);s.className=c(o,r.cssClasses.marker),s.style[r.style]=e+"%",o>C&&((s=I(i,!1)).className=c(o,r.cssClasses.value),s.setAttribute("data-value",a),s.style[r.style]=e+"%",s.innerHTML=n.to(a))}}(a,e[a][0],e[a][1])}),i}function z(){m&&(function(e){e.parentElement.removeChild(e)}(m),m=null)}function U(t){z();var n=t.mode,r=t.density||1,i=t.filter||!1,a=t.values||!1,o=t.stepped||!1,s=function(t,n,r){if("range"===t||"steps"===t)return S.xVal;if("count"===t){if(n<2)throw new Error("noUiSlider ("+e+"): 'values' (>= 2) required for mode 'count'.");var i=n-1,a=100/i;for(n=[];i--;)n[i]=i*a;n.push(100),t="positions"}return"positions"===t?n.map(function(e){return S.fromStepping(r?S.getStep(e):e)}):"values"===t?r?n.map(function(e){return S.fromStepping(S.getStep(S.toStepping(e)))}):n:void 0}(n,a,o),l=function(e,t,n){function r(e,t){return(e+t).toFixed(7)/1}var i={},a=S.xVal[0],o=S.xVal[S.xVal.length-1],s=!1,l=!1,u=0;return(n=function(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}(n.slice().sort(function(e,t){return e-t})))[0]!==a&&(n.unshift(a),s=!0),n[n.length-1]!==o&&(n.push(o),l=!0),n.forEach(function(a,o){var c,p,d,f,h,m,y,g,v,w,b=a,_=n[o+1],M="steps"===t;if(M&&(c=S.xNumSteps[o]),c||(c=_-b),!1!==b&&void 0!==_)for(c=Math.max(c,1e-7),p=b;p<=_;p=r(p,c)){for(g=(h=(f=S.toStepping(p))-u)/e,w=h/(v=Math.round(g)),d=1;d<=v;d+=1)i[(m=u+d*w).toFixed(5)]=[S.fromStepping(m),0];y=n.indexOf(p)>-1?T:M?j:C,!o&&s&&(y=0),p===_&&l||(i[f.toFixed(5)]=[p,y]),u=f}}),i}(r,n,s),u=t.format||{to:Math.round};return m=w.appendChild(H(l,i,u))}function q(){var e=p.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||p[t]:e.height||p[t]}function R(e,t,n,i){var a=function(a){return!!(a=function(e,t,n){var r,i,a=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(s=!0),a){var l=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var u=Array.prototype.filter.call(e.touches,l);if(u.length>1)return!1;r=u[0].pageX,i=u[0].pageY}else{var p=Array.prototype.find.call(e.changedTouches,l);if(!p)return!1;r=p.pageX,i=p.pageY}}return t=t||c(O),(o||s)&&(r=e.clientX+t.x,i=e.clientY+t.y),e.pageOffset=t,e.points=[r,i],e.cursor=o||s,e}(a,i.pageOffset,i.target||t))&&!(w.hasAttribute("disabled")&&!i.doNotReject)&&!(function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(w,r.cssClasses.tap)&&!i.doNotReject)&&!(e===y.start&&void 0!==a.buttons&&a.buttons>1)&&(!i.hover||!a.buttons)&&(v||a.preventDefault(),a.calcPoint=a.points[r.ort],void n(a,i))},o=[];return e.split(" ").forEach(function(e){t.addEventListener(e,a,!!v&&{passive:!0}),o.push([e,a])}),o}function V(e){var t=e-function(e,t){var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.documentElement,a=c(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),t?n.top+a.y-i.clientTop:n.left+a.x-i.clientLeft}(p,r.ort),n=100*t/q();return n=a(n),r.dir?100-n:n}function J(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&G(e,t)}function $(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return G(e,t);var n=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint),i=100*n/t.baseSize;ne(n>0,i,t.locations,t.handleNumbers)}function G(e,t){t.handle&&(u(t.handle,r.cssClasses.active),M-=1),t.listeners.forEach(function(e){A.removeEventListener(e[0],e[1])}),0===M&&(u(w,r.cssClasses.drag),ie(),e.cursor&&(E.style.cursor="",E.removeEventListener("selectstart",n))),t.handleNumbers.forEach(function(e){Q("change",e),Q("set",e),Q("end",e)})}function W(e,t){var i;if(1===t.handleNumbers.length){var a=d[t.handleNumbers[0]];if(a.hasAttribute("disabled"))return!1;i=a.children[0],M+=1,l(i,r.cssClasses.active)}e.stopPropagation();var o=[],s=R(y.move,A,$,{target:e.target,handle:i,listeners:o,startCalcPoint:e.calcPoint,baseSize:q(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:b.slice()}),u=R(y.end,A,G,{target:e.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers}),c=R("mouseout",A,J,{target:e.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers});o.push.apply(o,s.concat(u,c)),e.cursor&&(E.style.cursor=getComputedStyle(e.target).cursor,d.length>1&&l(w,r.cssClasses.drag),E.addEventListener("selectstart",n,!1)),t.handleNumbers.forEach(function(e){Q("start",e)})}function Y(e){e.stopPropagation();var t=V(e.calcPoint),n=function(e){var t=100,n=!1;return d.forEach(function(r,i){if(!r.hasAttribute("disabled")){var a=Math.abs(b[i]-e);(a<t||100===a&&100===t)&&(n=i,t=a)}}),n}(t);if(!1===n)return!1;r.events.snap||i(w,r.cssClasses.tap,r.animationDuration),ae(n,t,!0,!0),ie(),Q("slide",n,!0),Q("update",n,!0),Q("change",n,!0),Q("set",n,!0),r.events.snap&&W(e,{handleNumbers:[n]})}function X(e){var t=V(e.calcPoint),n=S.getStep(t),r=S.fromStepping(n);Object.keys(L).forEach(function(e){"hover"===e.split(".")[0]&&L[e].forEach(function(e){e.call(h,r)})})}function Z(e,t){L[e]=L[e]||[],L[e].push(t),"update"===e.split(".")[0]&&d.forEach(function(e,t){Q("update",t)})}function Q(e,t,n){Object.keys(L).forEach(function(i){var a=i.split(".")[0];e===a&&L[i].forEach(function(e){e.call(h,x.map(r.format.to),t,x.slice(),n||!1,b.slice())})})}function K(e){return e+"%"}function ee(e,t,n,i,o,s){return d.length>1&&!r.events.unconstrained&&(i&&t>0&&(n=Math.max(n,e[t-1]+r.margin)),o&&t<d.length-1&&(n=Math.min(n,e[t+1]-r.margin))),d.length>1&&r.limit&&(i&&t>0&&(n=Math.min(n,e[t-1]+r.limit)),o&&t<d.length-1&&(n=Math.max(n,e[t+1]-r.limit))),r.padding&&(0===t&&(n=Math.max(n,r.padding[0])),t===d.length-1&&(n=Math.min(n,100-r.padding[1]))),!((n=a(n=S.getStep(n)))===e[t]&&!s)&&n}function te(e,t){var n=r.ort;return(n?t:e)+", "+(n?e:t)}function ne(e,t,n,r){var i=n.slice(),a=[!e,e],o=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach(function(e,n){var r=ee(i,e,i[e]+t,a[n],o[n],!1);!1===r?t=0:(t=r-i[e],i[e]=r)}):a=o=[!0];var s=!1;r.forEach(function(e,r){s=ae(e,n[e]+t,a[r],o[r])||s}),s&&r.forEach(function(e){Q("update",e),Q("slide",e)})}function re(e,t){return r.dir?100-e-t:e}function ie(){_.forEach(function(e){var t=b[e]>50?-1:1,n=3+(d.length+t*e);d[e].style.zIndex=n})}function ae(e,t,n,i){return!1!==(t=ee(b,e,t,n,i,!1))&&(function(e,t){b[e]=t,x[e]=S.fromStepping(t);var n="translate("+te(K(re(t,0)-k),"0")+")";d[e].style[r.transformRule]=n,oe(e),oe(e+1)}(e,t),!0)}function oe(e){if(f[e]){var t=0,n=100;0!==e&&(t=b[e-1]),e!==f.length-1&&(n=b[e]);var i=n-t,a="translate("+te(K(re(t,i)),"0")+")",o="scale("+te(i/100,"1")+")";f[e].style[r.transformRule]=a+" "+o}}function se(e,t){var n=o(e),a=void 0===b[0];t=void 0===t||!!t,r.animate&&!a&&i(w,r.cssClasses.tap,r.animationDuration),_.forEach(function(e){ae(e,function(e,t){return null===e||!1===e||void 0===e?b[t]:("number"==typeof e&&(e=String(e)),e=r.format.from(e),!1===(e=S.toStepping(e))||isNaN(e)?b[t]:e)}(n[e],e),!0,!1)}),_.forEach(function(e){ae(e,b[e],!0,!0)}),ie(),_.forEach(function(e){Q("update",e),null!==n[e]&&t&&Q("set",e)})}function le(){var e=x.map(r.format.to);return 1===e.length?e[0]:e}return p=function(e){return l(e,r.cssClasses.target),0===r.dir?l(e,r.cssClasses.ltr):l(e,r.cssClasses.rtl),0===r.ort?l(e,r.cssClasses.horizontal):l(e,r.cssClasses.vertical),I(e,r.cssClasses.base)}(w),function(e,t){var n=I(t,r.cssClasses.connects);d=[],(f=[]).push(D(n,e[0]));for(var i=0;i<r.handles;i++)d.push(P(t,i)),_[i]=i,f.push(D(n,e[i+1]))}(r.connect,p),function(e){e.fixed||d.forEach(function(e,t){R(y.start,e.children[0],W,{handleNumbers:[t]})}),e.tap&&R(y.start,p,Y,{}),e.hover&&R(y.move,p,X,{hover:!0}),e.drag&&f.forEach(function(t,n){if(!1!==t&&0!==n&&n!==f.length-1){var i=d[n-1],a=d[n],o=[t];l(t,r.cssClasses.draggable),e.fixed&&(o.push(i.children[0]),o.push(a.children[0])),o.forEach(function(e){R(y.start,e,W,{handles:[i,a],handleNumbers:[n-1,n]})})}})}(r.events),se(r.start),h={destroy:function(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&u(w,r.cssClasses[e]);for(;w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return b.map(function(e,t){var n=S.getNearbySteps(e),r=x[t],i=n.thisStep.step,a=null;!1!==i&&r+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-r),a=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===e?i=null:0===e&&(a=null);var o=S.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(o))),null!==a&&!1!==a&&(a=Number(a.toFixed(o))),[a,i]})},on:Z,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(L).forEach(function(e){var r=e.split(".")[0],i=e.substring(r.length);t&&t!==r||n&&n!==i||delete L[e]})},get:le,set:se,setHandle:function(t,n,r){var i=[];if(!((t=Number(t))>=0&&t<_.length))throw new Error("noUiSlider ("+e+"): invalid handle number, got: "+t);for(var a=0;a<_.length;a++)i[a]=null;i[t]=n,se(i,r)},reset:function(e){se(r.start,e)},__moveHandles:function(e,t,n){ne(e,t,b,n)},options:s,updateOptions:function(e,t){var n=le(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(t){void 0!==e[t]&&(s[t]=e[t])});var a=B(s);i.forEach(function(t){void 0!==e[t]&&(r[t]=a[t])}),S=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips&&U(r.pips),b=[],se(e.start||n,t)},target:w,removePips:z,pips:U},r.pips&&U(r.pips),r.tooltips&&function(){var e=d.map(F);Z("update",function(t,n,i){if(e[n]){var a=t[n];!0!==r.tooltips[n]&&(a=r.tooltips[n].to(i[n])),e[n].innerHTML=a}})}(),Z("update",function(e,t,n,i,a){_.forEach(function(e){var t=d[e],i=ee(b,e,0,!0,!0,!0),o=ee(b,e,100,!0,!0,!0),s=a[e],l=r.ariaFormat.to(n[e]);i=S.fromStepping(i).toFixed(1),o=S.fromStepping(o).toFixed(1),s=S.fromStepping(s).toFixed(1),t.children[0].setAttribute("aria-valuemin",i),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",s),t.children[0].setAttribute("aria-valuetext",l)})}),h}return{__spectrum:v,version:e,create:function(t,n){if(!t||!t.nodeName)throw new Error("noUiSlider ("+e+"): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider ("+e+"): Slider was already initialized.");var r=B(n),i=q(t,r,n);return t.noUiSlider=i,i}}})?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r=n(16);e.exports=r},function(e,t,n){var r=n(17),i=n(18),a=n(19),o=n(22),s=n(23);function l(e){return Object.keys(e.sources).forEach(function(t){e.sources[t]=function(e){return("raster"===e.type||"raster-dem"===e.type)&&e.tileSize&&e.tiles?{type:e.type,tileSize:e.tileSize,tiles:e.tiles}:"raster"!==e.type&&"raster-dem"!==e.type||!e.url?e:{type:e.type,url:e.url}}(e.sources[t])}),e}function u(e){if(!(this instanceof u))throw new Error("MapboxInspect needs to be called with the new keyword");var t=null;window.mapboxgl?(!function(e){var t=e.version.split(".").map(parseFloat);t[0]<1&&t[1]<29&&console.error("MapboxInspect only supports Mapbox GL JS >= v0.29.0. Please upgrade your Mapbox GL JS version.")}(window.mapboxgl),t=new window.mapboxgl.Popup({closeButton:!1,closeOnClick:!1})):e.popup||console.error("Mapbox GL JS can not be found. Make sure to include it or pass an initialized MapboxGL Popup to MapboxInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:s.brightColor,buildInspectStyle:r.generateInspectStyle,renderPopup:o,popup:t,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{}},e),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this.toggleInspector=this.toggleInspector.bind(this),this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._onSourceChange=this._onSourceChange.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onStyleChange=this._onStyleChange.bind(this),this._originalStyle=null,this._toggle=new i({show:this.options.showInspectButton,onToggle:this.toggleInspector.bind(this)})}u.prototype.toggleInspector=function(){this._showInspectMap=!this._showInspectMap,this.render()},u.prototype._inspectStyle=function(){var e=r.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),e,{backgroundColor:this.options.backgroundColor})},u.prototype.render=function(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(l(function(e){return Object.assign(e,{metadata:Object.assign({},e.metadata,{"mapbox-gl-inspect:inspect":!0})})}(this._inspectStyle()))),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(l(this._originalStyle)),this._toggle.setInspectIcon())},u.prototype._onSourceChange=function(){var e=this.sources,t=this._map,n=t.getStyle(),r=Object.keys(n.sources),i=Object.assign({},e);Object.keys(t.style.sourceCaches).forEach(function(n){var r=t.style.sourceCaches[n]||{_source:{}},i=r._source.vectorLayerIds;i?e[n]=i:"geojson"===r._source.type&&(e[n]=[])}),Object.keys(e).forEach(function(t){-1===r.indexOf(t)&&delete e[t]}),!a(i,e)&&Object.keys(e).length>0&&this.render()},u.prototype._onStyleChange=function(){var e=this._map.getStyle();(function(e){return e.metadata&&e.metadata["mapbox-gl-inspect:inspect"]})(e)||(this._originalStyle=e)},u.prototype._onMousemove=function(e){var t;t=0===this.options.selectThreshold?e.point:[[e.point.x-this.options.selectThreshold,e.point.y+this.options.selectThreshold],[e.point.x+this.options.selectThreshold,e.point.y-this.options.selectThreshold]];var n=this._map.queryRenderedFeatures(t,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=n.length?"pointer":"",this._showInspectMap){if(!this.options.showInspectMapPopup)return;if("mousemove"===e.type&&!this.options.showInspectMapPopupOnHover)return;"click"===e.type&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup)return;if("mousemove"===e.type&&!this.options.showMapPopupOnHover)return;"click"===e.type&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}!this._popupBlocked&&this._popup&&(n.length?(this._popup.setLngLat(e.lngLat),"string"===typeof this.options.renderPopup(n)?this._popup.setHTML(this.options.renderPopup(n)):this._popup.setDOMContent(this.options.renderPopup(n)),this._popup.addTo(this._map)):this._popup.remove())},u.prototype.onAdd=function(e){return this._map=e,0===Object.keys(this.sources).length&&(e.on("tiledata",this._onSourceChange),e.on("sourcedata",this._onSourceChange)),e.on("styledata",this._onStyleChange),e.on("load",this._onStyleChange),e.on("mousemove",this._onMousemove),e.on("click",this._onMousemove),this._toggle.elem},u.prototype.onRemove=function(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove);var e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0},e.exports=u},function(e,t){function n(e,t,n){var r={id:[t,n,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function r(e,t,n,r){var i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function i(e,t,n){var r={id:[t,n,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}t.polygonLayer=r,t.lineLayer=i,t.circleLayer=n,t.generateInspectStyle=function(e,t,n){var r={id:"background",type:"background",paint:{"background-color":(n=Object.assign({backgroundColor:"#fff"},n)).backgroundColor}},i={};return Object.keys(e.sources).forEach(function(t){var n=e.sources[t];"vector"!==n.type&&"geojson"!==n.type||(i[t]=n)}),Object.assign(e,{layers:[r].concat(t),soources:i})},t.generateColoredLayers=function(e,t){var a=[],o=[],s=[];function l(e){var n=t.bind(null,e);return{circle:n(.8),line:n(.6),polygon:n(.3),polygonOutline:n(.6),default:n(1)}}return Object.keys(e).forEach(function(t){var u=e[t];if(u&&0!==u.length)u.forEach(function(e){var u=l(e);o.push(n(u.circle,t,e)),s.push(i(u.line,t,e)),a.push(r(u.polygon,u.polygonOutline,t,e))});else{var c=l(t);o.push(n(c.circle,t)),s.push(i(c.line,t)),a.push(r(c.polygon,c.polygonOutline,t))}}),a.concat(s).concat(o)}},function(e,t){function n(e){e=Object.assign({show:!0,onToggle:function(){}},e),this._btn=function(){var e=document.createElement("button");return e.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect",e.type="button",e["aria-label"]="Inspect",e}(),this._btn.onclick=e.onToggle,this.elem=function(e,t){var n=document.createElement("div");return n.className="mapboxgl-ctrl mapboxgl-ctrl-group",n.appendChild(e),t||(n.style.display="none"),n}(this._btn,e.show)}n.prototype.setInspectIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect"},n.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},e.exports=n},function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",a=1,o=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",p="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",y="[object Map]",g="[object Number]",v="[object Null]",w="[object Object]",b="[object Proxy]",_="[object RegExp]",M="[object Set]",S="[object String]",x="[object Symbol]",L="[object Undefined]",O="[object ArrayBuffer]",A="[object DataView]",E=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[l]=C[u]=C[O]=C[p]=C[A]=C[d]=C[f]=C[h]=C[y]=C[g]=C[w]=C[_]=C[M]=C[S]=C["[object WeakMap]"]=!1;var T="object"==typeof e&&e&&e.Object===Object&&e,j="object"==typeof self&&self&&self.Object===Object&&self,k=T||j||Function("return this")(),I=t&&!t.nodeType&&t,P=I&&"object"==typeof n&&n&&!n.nodeType&&n,D=P&&P.exports===I,F=D&&T.process,H=function(){try{return F&&F.binding&&F.binding("util")}catch(e){}}(),z=H&&H.isTypedArray;function U(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function B(e,t){return e.has(t)}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function R(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var V=Array.prototype,J=Function.prototype,$=Object.prototype,G=k["__core-js_shared__"],W=J.toString,Y=$.hasOwnProperty,X=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=$.toString,Q=RegExp("^"+W.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=D?k.Buffer:void 0,ee=k.Symbol,te=k.Uint8Array,ne=$.propertyIsEnumerable,re=V.splice,ie=ee?ee.toStringTag:void 0,ae=Object.getOwnPropertySymbols,oe=K?K.isBuffer:void 0,se=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),le=De(k,"DataView"),ue=De(k,"Map"),ce=De(k,"Promise"),pe=De(k,"Set"),de=De(k,"WeakMap"),fe=De(Object,"create"),he=Ue(le),me=Ue(ue),ye=Ue(ce),ge=Ue(pe),ve=Ue(de),we=ee?ee.prototype:void 0,be=we?we.valueOf:void 0;function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Se;++t<n;)this.add(e[t])}function Le(e){var t=this.__data__=new Me(e);this.size=t.size}function Oe(e,t){var n=Re(e),r=!n&&qe(e),i=!n&&!r&&Ve(e),a=!n&&!r&&!i&&Ye(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!Y.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ze(u,l))||s.push(u);return s}function Ae(e,t){for(var n=e.length;n--;)if(Be(e[n][0],t))return n;return-1}function Ee(e){return null==e?void 0===e?L:v:ie&&ie in Object(e)?function(e){var t=Y.call(e,ie),n=e[ie];try{e[ie]=void 0;var r=!0}catch(e){}var i=Z.call(e);r&&(t?e[ie]=n:delete e[ie]);return i}(e):function(e){return Z.call(e)}(e)}function Ne(e){return We(e)&&Ee(e)==l}function Ce(e,t,n,r,i){return e===t||(null==e||null==t||!We(e)&&!We(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var c=Re(e),h=Re(t),m=c?u:He(e),v=h?u:He(t),b=(m=m==l?w:m)==w,L=(v=v==l?w:v)==w,E=m==v;if(E&&Ve(e)){if(!Ve(t))return!1;c=!0,b=!1}if(E&&!b)return s||(s=new Le),c||Ye(e)?ke(e,t,n,r,i,s):function(e,t,n,r,i,s,l){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!s(new te(e),new te(t)));case p:case d:case g:return Be(+e,+t);case f:return e.name==t.name&&e.message==t.message;case _:case S:return e==t+"";case y:var u=q;case M:var c=r&a;if(u||(u=R),e.size!=t.size&&!c)return!1;var h=l.get(e);if(h)return h==t;r|=o,l.set(e,t);var m=ke(u(e),u(t),r,i,s,l);return l.delete(e),m;case x:if(be)return be.call(e)==be.call(t)}return!1}(e,t,m,n,r,i,s);if(!(n&a)){var N=b&&Y.call(e,"__wrapped__"),C=L&&Y.call(t,"__wrapped__");if(N||C){var T=N?e.value():e,j=C?t.value():t;return s||(s=new Le),i(T,j,n,r,s)}}if(!E)return!1;return s||(s=new Le),function(e,t,n,r,i,o){var s=n&a,l=Ie(e),u=l.length,c=Ie(t).length;if(u!=c&&!s)return!1;for(var p=u;p--;){var d=l[p];if(!(s?d in t:Y.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var m=s;++p<u;){d=l[p];var y=e[d],g=t[d];if(r)var v=s?r(g,y,d,t,e,o):r(y,g,d,e,t,o);if(!(void 0===v?y===g||i(y,g,n,r,o):v)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var w=e.constructor,b=t.constructor;w!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,s)}(e,t,n,r,Ce,i))}function Te(e){return!(!Ge(e)||function(e){return!!X&&X in e}(e))&&(Je(e)?Q:E).test(Ue(e))}function je(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||$;return e===n}(e))return se(e);var t=[];for(var n in Object(e))Y.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ke(e,t,n,r,i,s){var l=n&a,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var p=s.get(e);if(p&&s.get(t))return p==t;var d=-1,f=!0,h=n&o?new xe:void 0;for(s.set(e,t),s.set(t,e);++d<u;){var m=e[d],y=t[d];if(r)var g=l?r(y,m,d,t,e,s):r(m,y,d,e,t,s);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!U(t,function(e,t){if(!B(h,t)&&(m===e||i(m,e,n,r,s)))return h.push(t)})){f=!1;break}}else if(m!==y&&!i(m,y,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Ie(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,Fe)}function Pe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function De(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(n)?n:void 0}_e.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(fe){var n=t[e];return n===i?void 0:n}return Y.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:Y.call(t,e)},_e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fe&&void 0===t?i:t,this},Me.prototype.clear=function(){this.__data__=[],this.size=0},Me.prototype.delete=function(e){var t=this.__data__,n=Ae(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),--this.size,0))},Me.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return n<0?void 0:t[n][1]},Me.prototype.has=function(e){return Ae(this.__data__,e)>-1},Me.prototype.set=function(e,t){var n=this.__data__,r=Ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Se.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(ue||Me),string:new _e}},Se.prototype.delete=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return Pe(this,e).get(e)},Se.prototype.has=function(e){return Pe(this,e).has(e)},Se.prototype.set=function(e,t){var n=Pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,i),this},xe.prototype.has=function(e){return this.__data__.has(e)},Le.prototype.clear=function(){this.__data__=new Me,this.size=0},Le.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Le.prototype.get=function(e){return this.__data__.get(e)},Le.prototype.has=function(e){return this.__data__.has(e)},Le.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Me){var i=n.__data__;if(!ue||i.length<r-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Se(i)}return n.set(e,t),this.size=n.size,this};var Fe=ae?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(ae(e),function(t){return ne.call(e,t)}))}:function(){return[]},He=Ee;function ze(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Be(e,t){return e===t||e!=e&&t!=t}(le&&He(new le(new ArrayBuffer(1)))!=A||ue&&He(new ue)!=y||ce&&"[object Promise]"!=He(ce.resolve())||pe&&He(new pe)!=M||de&&"[object WeakMap]"!=He(new de))&&(He=function(e){var t=Ee(e),n=t==w?e.constructor:void 0,r=n?Ue(n):"";if(r)switch(r){case he:return A;case me:return y;case ye:return"[object Promise]";case ge:return M;case ve:return"[object WeakMap]"}return t});var qe=Ne(function(){return arguments}())?Ne:function(e){return We(e)&&Y.call(e,"callee")&&!ne.call(e,"callee")},Re=Array.isArray;var Ve=oe||function(){return!1};function Je(e){if(!Ge(e))return!1;var t=Ee(e);return t==h||t==m||t==c||t==b}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function We(e){return null!=e&&"object"==typeof e}var Ye=z?function(e){return function(t){return e(t)}}(z):function(e){return We(e)&&$e(e.length)&&!!C[Ee(e)]};function Xe(e){return function(e){return null!=e&&$e(e.length)&&!Je(e)}(e)?Oe(e):je(e)}n.exports=function(e,t){return Ce(e,t)}}).call(this,n(20),n(21)(e))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(e,t){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+e+'</div><div class="mapbox-gl-inspect_property-value">'+function(e){return void 0===e||null===e?e:e instanceof Date?e.toLocaleString():"object"==typeof e||"number"==typeof e||"string"==typeof e?e.toString():e}(t)+"</div></div>"}function r(e){return e.map(function(e){return'<div class="mapbox-gl-inspect_feature">'+function(e){var t=function(e){return'<div class="mapbox-gl-inspect_layer">'+e+"</div>"}(e.layer["source-layer"]||e.layer.source),r=n("$type",e.geometry.type),i=Object.keys(e.properties).map(function(t){return n(t,e.properties[t])});return[t,r].concat(i).join("")}(e)+"</div>"}).join("")}e.exports=function(e){return'<div class="mapbox-gl-inspect_popup">'+r(e)+"</div>"}},function(e,t,n){var r=n(24);t.brightColor=function(e,t){var n="bright",i=null;return/water|ocean|lake|sea|river/.test(e)&&(i="blue"),/state|country|place/.test(e)&&(i="pink"),/road|highway|transport/.test(e)&&(i="orange"),/contour|building/.test(e)&&(i="monochrome"),/building/.test(e)&&(n="dark"),/contour|landuse/.test(e)&&(i="yellow"),/wood|forest|park|landcover/.test(e)&&(i="green"),"rgba("+r({luminosity:n,hue:i,seed:e,format:"rgbArray"}).concat([t||1]).join(", ")+")"}},function(e,t,n){var r,i,a;i=[],void 0===(a="function"==typeof(r=function(){var e=null,t={};a("monochrome",null,[[0,0],[100,0]]),a("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),a("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),a("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),a("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),a("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),a("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),a("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var n=function(a){if((a=a||{}).seed&&a.seed===parseInt(a.seed,10))e=a.seed;else if("string"==typeof a.seed)e=function(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}(a.seed);else{if(void 0!==a.seed&&null!==a.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,u,c;if(null!==a.count&&void 0!==a.count){var p=a.count,d=[];for(a.count=null;p>d.length;)e&&a.seed&&(a.seed+=1),d.push(n(a));return a.count=p,d}return l=function(e){var n=i(function(e){if("number"==typeof parseInt(e)){var n=parseInt(e);if(n<360&&n>0)return[n,n]}if("string"==typeof e&&t[e]){var r=t[e];if(r.hueRange)return r.hueRange}return[0,360]}(e.hue));return n<0&&(n=360+n),n}(a),u=function(e,t){if("random"===t.luminosity)return i([0,100]);if("monochrome"===t.hue)return 0;var n=function(e){return r(e).saturationRange}(e),a=n[0],o=n[1];switch(t.luminosity){case"bright":a=55;break;case"dark":a=o-10;break;case"light":o=55}return i([a,o])}(l,a),c=function(e,t,n){var a=function(e,t){for(var n=r(e).lowerBounds,i=0;i<n.length-1;i++){var a=n[i][0],o=n[i][1],s=n[i+1][0],l=n[i+1][1];if(t>=a&&t<=s){var u=(l-o)/(s-a),c=o-u*a;return u*t+c}}return 0}(e,t),o=100;switch(n.luminosity){case"dark":o=a+20;break;case"light":a=(o+a)/2;break;case"random":a=0,o=100}return i([a,o])}(l,u,a),function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return s(e);case"hsl":var n=s(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=s(e);return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+Math.random()+")";case"rgbArray":return o(e);case"rgb":var i=o(e);return"rgb("+i.join(", ")+")";case"rgba":var a=o(e);return"rgba("+a.join(", ")+", "+Math.random()+")";default:return function(e){var t=o(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}(e)}}([l,u,c],a)};function r(e){for(var n in e>=334&&e<=360&&(e-=360),t){var r=t[n];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return t[n]}return"Color not found"}function i(t){if(null===e)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var n=t[1]||1,r=t[0]||0,i=(e=(9301*e+49297)%233280)/233280;return Math.floor(r+i*(n-r))}function a(e,n,r){var i=r[0][0],a=r[r.length-1][0],o=r[r.length-1][1],s=r[0][1];t[e]={hueRange:n,lowerBounds:r,saturationRange:[i,a],brightnessRange:[o,s]}}function o(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,r=e[2]/100,i=Math.floor(6*t),a=6*t-i,o=r*(1-n),s=r*(1-a*n),l=r*(1-(1-a)*n),u=256,c=256,p=256;switch(i){case 0:u=r,c=l,p=o;break;case 1:u=s,c=r,p=o;break;case 2:u=o,c=r,p=l;break;case 3:u=o,c=s,p=r;break;case 4:u=l,c=o,p=r;break;case 5:u=r,c=o,p=s}var d=[Math.floor(255*u),Math.floor(255*c),Math.floor(255*p)];return d}function s(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=(2-n)*r;return[t,Math.round(n*r/(i<1?i:2-i)*1e4)/100,i/2*100]}return n})?r.apply(t,i):r)||(e.exports=a)},function(e,t){e.exports=function(e){var t=e.match(/^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i);if(!t)return null;function n(e,t){return{center:[e,t],geometry:{type:"Point",coordinates:[e,t]},place_name:"Lat: "+t+", Lng: "+e,place_type:["coordinate"],properties:{},type:"Feature"}}var r=Number(t[1]),i=Number(t[2]),a=[];return(r<-90||r>90)&&a.push(n(r,i)),(i<-90||i>90)&&a.push(n(i,r)),0===a.length&&(a.push(n(r,i)),a.push(n(i,r))),a}},function(e,t){var n={displayValue:function(e){return void 0===e||null===e?e:e instanceof Date?e.toLocaleString():"object"==typeof e||"number"==typeof e||"string"==typeof e?e.toString():e},getMode:function(e){if(0==e.length)return null;for(var t={},n=e[0],r=1,i=0;i<e.length;i++){var a=e[i];null==t[a]?t[a]=1:t[a]++,t[a]>r&&(n=a,r=t[a])}return n},renderProperty:function(e,t){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+e+'</div><div class="mapbox-gl-inspect_property-value">'+this.displayValue(t)+"</div></div>"},renderLayer:function(e){return'<div class="mapbox-gl-inspect_layer">'+e+"</div>"},renderProperties:function(e){var t=this,n=[];return Object.keys(e).map(function(r){var i=t.renderLayer(r),a=[];Object.keys(e[r]).map(function(n){var o=t.getMode(e[r][n]);null!=o&&a.push(i+t.renderProperty(n,o))}),n.push(a.join(""))}),n.join("")},calcModeForLayers:function(e,t){var n=e.layer["source-layer"]||e.layer.source;t[n]={},Object.keys(e.properties).map(function(r){r in t[n]?t[n][r].push(e.properties[r]):t[n][r]=[e.properties[r]]})},renderFeatures:function(e){var t=this,n={};return e.map(function(e){t.calcModeForLayers(e,n)}),'<div class="mapbox-gl-inspect_feature">'+t.renderProperties(n)+"</div>"}};e.exports=n}]);