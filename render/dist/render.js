!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){function n(){if(!window._mintMap.uiLoaded)return void setTimeout(n,1e3);let t=window._mintMap.metadata;if(0===window._mintMap.variableArray.length)return;let e=[];window._mintMap.displayed.forEach(function(t,n){if(0===window._mintMap.variableArray.filter(function(e){return e.md5===t}).length){let n=window._mintMap.metadata.vectorMD5.indexOf(t),r=window._mintMap.metadata.sourceLayers[n];removeLayerFromMap(r,window._mintMap.metadata.hasTimeline[n]),removeInspectLayers(r+"Layer"),updateListOfLayersNotAdded({layerName:window._mintMap.metadata.layerNames[n],layerId:window._mintMap.metadata.layerIds[n],hasData:!0,sourceLayer:r,file:"ckan",hasTimeline:window._mintMap.metadata.hasTimeline[n]},!1),updateShowAllDiv(!1),e.push(n)}}),e.forEach(function(t,e){window._mintMap.displayed.splice(e,1)});for(var r=0;r<window._mintMap.variableArray.length&&"vectorMD5"in t;r++){let e=t.vectorMD5.indexOf(window._mintMap.variableArray[r].md5);if(-1===e)continue;window._mintMap.displayed.indexOf(t.sourceLayers[e]);hasLayerNameDisplayed(t.layerNames[e])&&addNewLayerToMap(t.hasData[e],t.layerIds[e],t.layerNames[e],t.sourceLayers[e],"file",t.hasTimeline[e])}}const r={set:(t,e,r)=>(t[e]=r,"length"===e&&r===window._mintMap.variableArrayCount&&0!==window._mintMap.metadata.length&&(console.log(window._mintMap.variableArray),n()),!0)},i={set(t,e,r){if(t[e]=r,"metadata"===e){window._mintMap.listOfLayersNotAdded=[];let t=r;for(var i=0;i<t.layerNames.length;i++)t.hasData[i]?window._mintMap.listOfLayersNotAdded.push({label:t.layerNames[i],value:t.layerNames[i],id:t.layerIds[i],hasData:t.hasData[i],source:t.sourceLayers[i],file:t.layers[i].file,hasTimeline:t.hasTimeline[i]}):window._mintMap.listOfLayersNotAdded.push({label:t.layerNames[i]+" (No data)",value:t.layerNames[i],id:t.layerIds[i],hasData:t.hasData[i],source:t.sourceLayers[i],file:"",hasTimeline:!1});0!==window._mintMap.variableArray.length&&n()}return!0}};t.exports={handle_variable:n,variableHandler1:r,variableHandler2:i}},function(t,e,n){n(3),n(4),n(5),n(7),n(8);var r=n(12),i=n(13),{variableHandler1:o}=n(1);window.loadMapLayers=function(t){const e=new Proxy(window._mintMap.variableArray,o);t.accessToken="pk.eyJ1IjoibGlib2xpdSIsImEiOiJjamZ1cXc1cGIwNHlhMnhsYWx0amRrbmdrIn0.d2s82GJZj56n2QUN2WGNsA";var n=window._polymerMap.mint_map_element,a=new t.Map({container:n.querySelector("#map"),style:"mapbox://styles/mapbox/streets-v9",center:[26.3,7.6],zoom:5});window._mintMap.map=a,window._mintMap.map.resize(),setTimeout(function(){window._mintMap.map.resize()},1e3),window._isMapLoaded=!0,window._mintMap.onVariablesChanged=function(t){if(!Array.isArray(t))return console.log("Variables should be an array"),!1;if(0===t.length)return console.log("Variables is empty"),!1;let n=!0;if(t.forEach(function(t,e){"object"!=typeof t?n=!1:"md5"in t||(n=!1)}),!n)return console.log("Items in variables should be an object with format like {name: 'landuse', stdname: 'landuse-standard-name', md5: 'the-md5-hash-from-data-catalog', uri: 'the-uri-from-data-catalog'}"),!1;window._mintMap.variableArrayCount=t.length,e.splice(0,e.length),t.forEach(function(t,n){e.push(t)})},"object"==typeof window._mintMapOnloadVars&&window._mintMap.onVariablesChanged(window._mintMapOnloadVars);new MapboxGeocoder({accessToken:t.accessToken,localGeocoder:r,zoom:10,bbox:[22.9,3.3,36.5,12.5],placeholder:"Try: 29.7, 7.9"});window._mintMap.map.on("load",i),n.addEventListener("click",function(t){if(t.stopPropagation(),t.target.classList.contains("tag_close"))if(t.target.classList.contains("tag_add")){e=t.target.parentElement;if(!addNewLayerToMap("true"===e.getAttribute("data-has-data"),e.getAttribute("data-layer-id"),e.text,e.getAttribute("data-source-layer"),e.getAttribute("data-file"),"true"===e.getAttribute("data-has-timeline")))return!1;t.target.parentElement.parentElement.remove(),updateListOfLayersNotAdded({layerName:e.text},!0),updateShowAllDiv(!1)}else{t.target.parentElement.parentElement.remove();var e=t.target.parentElement;removeLayerFromMap(e.getAttribute("data-source-layer"),"true"==e.getAttribute("data-has-timeline")),updateListOfLayersNotAdded({layerName:e.text,layerId:e.getAttribute("data-layer-id"),hasData:"true"==e.getAttribute("data-has-data"),sourceLayer:e.getAttribute("data-source-layer"),file:e.getAttribute("data-file"),hasTimeline:"true"==e.getAttribute("data-has-timeline")},!1),updateShowAllDiv(!1)}if("show-all-layers"==t.target.id){var r=n.querySelector("#show-all-layers"),i=n.querySelector("#show-all-div");i?(i.remove(),r.innerHTML="Show All Layers",r.setAttribute("data-show","no")):(updateShowAllDiv(),r.innerHTML="Hide All Layers",r.setAttribute("data-show","yes"))}}),window._mintMap.map.on("mousemove",function(t){})},function t(){window.mapboxgl&&!window._isMapLoaded?window.loadMapLayers(window.mapboxgl):setTimeout(function(){window._isMapLoaded||t()},1e3)}()},function(t,e){!function(){"use strict";var t=!1,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),r="AM PM".split(" "),i='MMMM d""x "at" h:mm tt',o="January February March April May June July August September October November December".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s=function(){var s=/(d+|f+|F+|h+|m+|H+|M+|s+|t+|x+|y+|z+)/g,d=function(e){return"get"+(t?"UTC":"")+e},h={d:function(){return this[d("Date")]()},dd:function(){return f(this[d("Date")]())},ddd:function(){return u.call(this,!0)},dddd:function(){return u.call(this)},f:function(){return f(f(this[d("Milliseconds")](),3),6,!0).substr(0,1)},ff:function(){return f(f(this[d("Milliseconds")](),3),6,!0).substr(0,2)},fff:function(){return f(f(this[d("Milliseconds")](),3),6,!0).substr(0,3)},ffff:function(){return f(f(this[d("Milliseconds")](),3),6,!0).substr(0,4)},fffff:function(){return f(f(this[d("Milliseconds")](),3),6,!0).substr(0,5)},ffffff:function(){return f(f(this[d("Milliseconds")](),3),6,!0).substr(0,6)},F:function(){var t=f(this[d("Milliseconds")](),3).substr(0,1);return"0"===t?"":t},FF:function(){var t=f(this[d("Milliseconds")](),3).substr(0,2);return"00"===t?"":t},FFF:function(){return f(this[d("Milliseconds")](),3).substr(0,3)},FFFF:function(){return h.FFF.call(this)},FFFFF:function(){return h.FFF.call(this)},FFFFFF:function(){return h.FFF.call(this)},h:function(){var t=this[d("Hours")]();return t>12?t-12:t},hh:function(){var t=this[d("Hours")]();return f(t>12?t-12:t)},m:function(){return this[d("Minutes")]()},mm:function(){return f(this[d("Minutes")]())},H:function(){return this[d("Hours")]()},HH:function(){return f(this[d("Hours")]())},M:function(){return this[d("Month")]()+1},MM:function(){return f(this[d("Month")]()+1)},MMM:function(){return l.call(this,!0)},MMMM:function(){return l.call(this)},s:function(){return this[d("Seconds")]()},ss:function(){return f(this[d("Seconds")]())},tt:function(){return p.call(this)},x:function(){return c.call(this)},y:function(){var t=this[d("FullYear")](),e=t.toString();return t<10?t:e.substr(e.length-2)},yy:function(){return f(this[d("FullYear")](),2)},yyy:function(){var t=this[d("FullYear")](),e=t.toString();return t<1e3?f(t,3):e.substr(e.length-4)},yyyy:function(){return f(this[d("FullYear")](),4)},yyyyy:function(){return f(this[d("FullYear")](),5)},yyyyyy:function(){return f(this[d("FullYear")](),6)},z:function(){var t=this.getTimezoneOffset();return(t>0?"-":"+")+Math.abs(t/60)},zz:function(){var t=this.getTimezoneOffset();return(t>0?"-":"+")+f(Math.abs(t/60))},zzz:function(){var t=this.getTimezoneOffset();return(t>0?"-":"+")+f(Math.abs(t/60))+":"+f(Math.abs(t/60)%1*60)}};return function(){var u,l,p=this;return"string"==typeof arguments[0]?(u=arguments[0],l=arguments[1]):(u=null,l=arguments[0]),l&&(void 0!==l.asUtc&&(t=l.asUtc),l.days&&(e=l.days),l.daysAbbr&&(n=l.daysAbbr),l.designator&&(r=l.designator),l.format&&(i=l.format),l.getDateOrdinal&&(c=l.getDateOrdinal),l.months&&(o=l.months),l.monthsAbbr&&(a=l.monthsAbbr)),u||(u=i),u.replace(s,function(t,e){var n=h[e];return"function"==typeof n?n.call(p):t}).replace(/["']/g,"")}}(),u=function(t){var r=this.getDay();return t?n[r]:e[r]},l=function(t){var e=this.getMonth();return t?a[e]:o[e]},c=function(){var t="th st nd rd th".split(" ");return function(){var e=this.getDate();return e>3&&e<21?t[0]:t[Math.min(e%10,4)]}}(),p=function(){return this.getHours()>=12?r[1]:r[0]},f=function(){var t="000000";return function(e,n,r){return r?(e+t).slice(0,n?Math.min(n,t.length):2):(t+e).slice(-(n?Math.min(n,t.length):2))}}();Date.prototype.format=function(t,e){return s.call(this,t,e)}}()},function(t,e){window._mintMap={setOpacity:()=>{},onresize:()=>{},getLayerNameBySoureLayer:()=>{},variableArrayCount:0,metadata:[],listOfLayersNotAdded:[],displayed:[],variableArray:[],mapInspect:{},uiLoaded:!1,autocomplete:{},toggleClass:()=>{},bounds:[22.4,3.4,37,23.2],sliderData:{}},window._mintMap.onresize=function(){window._polymerMap.mint_map_element.style.height=window._polymerMap.mint_map_element.parentNode.host.clientHeight+"px",window._mintMap.map.resize()},window._mintMap.toggleClass=function(t,e){if(t&&e){var n=t.className,r=n.indexOf(e);-1==r?n+=" "+e:n=n.substr(0,r)+n.substr(r+e.length),t.className=n}},window._mintMap.setOpacity=function(t,e,n="no"){"no"!==n?window._mintMap.map.setPaintProperty(t+"_raster_"+n,"raster-opacity",parseInt(e,10)/100):window._mintMap.map.setPaintProperty(t+"_raster","raster-opacity",parseInt(e,10)/100)},window._mintMap.getLayerNameBySoureLayer=function(t){let e=window._mintMap.metadata.sourceLayers.indexOf(t);if(-1!==e)return window._mintMap.metadata.layerNames[e]}},function(t,e,n){n(6)},function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function e(t){return t.split("").reverse().join("")}function n(t,e){return t.substring(0,e.length)===e}function r(t,e,n){if((t[e]||t[n])&&t[e]===t[n])throw new Error(e)}function i(t){return"number"==typeof t&&isFinite(t)}function o(t,n,r,o,a,s,u,l,c,p,f,d){var h,m,y,g=d,v="",b="";return s&&(d=s(d)),!!i(d)&&(!1!==t&&0===parseFloat(d.toFixed(t))&&(d=0),d<0&&(h=!0,d=Math.abs(d)),!1!==t&&(d=function(t,e){return t=t.toString().split("e"),(+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]+e:e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]-e:-e))).toFixed(e)}(d,t)),-1!==(d=d.toString()).indexOf(".")?(m=d.split("."),y=m[0],r&&(v=r+m[1])):y=d,n&&(y=e((y=e(y).match(/.{1,3}/g)).join(e(n)))),h&&l&&(b+=l),o&&(b+=o),h&&c&&(b+=c),b+=y,b+=v,a&&(b+=a),p&&(b=p(b,g)),b)}function a(t,e,r,o,a,s,u,l,c,p,f,d){var h,m="";return f&&(d=f(d)),!(!d||"string"!=typeof d)&&(l&&n(d,l)&&(d=d.replace(l,""),h=!0),o&&n(d,o)&&(d=d.replace(o,"")),c&&n(d,c)&&(d=d.replace(c,""),h=!0),a&&function(t,e){return t.slice(-1*e.length)===e}(d,a)&&(d=d.slice(0,-1*a.length)),e&&(d=d.split(e).join("")),r&&(d=d.replace(r,".")),h&&(m+="-"),""!==(m=(m+=d).replace(/[^0-9\.\-.]/g,""))&&(m=Number(m),u&&(m=u(m)),!!i(m)&&m))}function s(e,n,r){var i,o=[];for(i=0;i<t.length;i+=1)o.push(e[t[i]]);return o.push(r),n.apply("",o)}return function e(n){if(!(this instanceof e))return new e(n);"object"==typeof n&&(n=function(e){var n,i,o,a={};for(void 0===e.suffix&&(e.suffix=e.postfix),n=0;n<t.length;n+=1)if(i=t[n],void 0===(o=e[i]))"negative"!==i||a.negativeBefore?"mark"===i&&"."!==a.thousand?a[i]=".":a[i]=!1:a[i]="-";else if("decimals"===i){if(!(o>=0&&o<8))throw new Error(i);a[i]=o}else if("encoder"===i||"decoder"===i||"edit"===i||"undo"===i){if("function"!=typeof o)throw new Error(i);a[i]=o}else{if("string"!=typeof o)throw new Error(i);a[i]=o}return r(a,"mark","thousand"),r(a,"prefix","negative"),r(a,"prefix","negativeBefore"),a}(n),this.to=function(t){return s(n,o,t)},this.from=function(t){return s(n,a,t)})}})?r.apply(e,i):r)||(t.exports=o)},function(t,e){},function(t,e,n){n(9)},function(t,e,n){!function(){var e=n(10),r=n(0).utf8,i=n(11),o=n(0).bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):r.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=e.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,p=-1732584194,f=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var h=a._ff,m=a._gg,y=a._hh,g=a._ii;for(d=0;d<s.length;d+=16){var v=l,b=c,w=p,_=f;c=g(c=g(c=g(c=g(c=y(c=y(c=y(c=y(c=m(c=m(c=m(c=m(c=h(c=h(c=h(c=h(c,p=h(p,f=h(f,l=h(l,c,p,f,s[d+0],7,-680876936),c,p,s[d+1],12,-389564586),l,c,s[d+2],17,606105819),f,l,s[d+3],22,-1044525330),p=h(p,f=h(f,l=h(l,c,p,f,s[d+4],7,-176418897),c,p,s[d+5],12,1200080426),l,c,s[d+6],17,-1473231341),f,l,s[d+7],22,-45705983),p=h(p,f=h(f,l=h(l,c,p,f,s[d+8],7,1770035416),c,p,s[d+9],12,-1958414417),l,c,s[d+10],17,-42063),f,l,s[d+11],22,-1990404162),p=h(p,f=h(f,l=h(l,c,p,f,s[d+12],7,1804603682),c,p,s[d+13],12,-40341101),l,c,s[d+14],17,-1502002290),f,l,s[d+15],22,1236535329),p=m(p,f=m(f,l=m(l,c,p,f,s[d+1],5,-165796510),c,p,s[d+6],9,-1069501632),l,c,s[d+11],14,643717713),f,l,s[d+0],20,-373897302),p=m(p,f=m(f,l=m(l,c,p,f,s[d+5],5,-701558691),c,p,s[d+10],9,38016083),l,c,s[d+15],14,-660478335),f,l,s[d+4],20,-405537848),p=m(p,f=m(f,l=m(l,c,p,f,s[d+9],5,568446438),c,p,s[d+14],9,-1019803690),l,c,s[d+3],14,-187363961),f,l,s[d+8],20,1163531501),p=m(p,f=m(f,l=m(l,c,p,f,s[d+13],5,-1444681467),c,p,s[d+2],9,-51403784),l,c,s[d+7],14,1735328473),f,l,s[d+12],20,-1926607734),p=y(p,f=y(f,l=y(l,c,p,f,s[d+5],4,-378558),c,p,s[d+8],11,-2022574463),l,c,s[d+11],16,1839030562),f,l,s[d+14],23,-35309556),p=y(p,f=y(f,l=y(l,c,p,f,s[d+1],4,-1530992060),c,p,s[d+4],11,1272893353),l,c,s[d+7],16,-155497632),f,l,s[d+10],23,-1094730640),p=y(p,f=y(f,l=y(l,c,p,f,s[d+13],4,681279174),c,p,s[d+0],11,-358537222),l,c,s[d+3],16,-722521979),f,l,s[d+6],23,76029189),p=y(p,f=y(f,l=y(l,c,p,f,s[d+9],4,-640364487),c,p,s[d+12],11,-421815835),l,c,s[d+15],16,530742520),f,l,s[d+2],23,-995338651),p=g(p,f=g(f,l=g(l,c,p,f,s[d+0],6,-198630844),c,p,s[d+7],10,1126891415),l,c,s[d+14],15,-1416354905),f,l,s[d+5],21,-57434055),p=g(p,f=g(f,l=g(l,c,p,f,s[d+12],6,1700485571),c,p,s[d+3],10,-1894986606),l,c,s[d+10],15,-1051523),f,l,s[d+1],21,-2054922799),p=g(p,f=g(f,l=g(l,c,p,f,s[d+8],6,1873313359),c,p,s[d+15],10,-30611744),l,c,s[d+6],15,-1560198380),f,l,s[d+13],21,1309151649),p=g(p,f=g(f,l=g(l,c,p,f,s[d+4],6,-145523070),c,p,s[d+11],10,-1120210379),l,c,s[d+2],15,718787259),f,l,s[d+9],21,-343485551),l=l+v>>>0,c=c+b>>>0,p=p+w>>>0,f=f+_>>>0}return e.endian([l,c,p,f])};a._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n}()},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e){t.exports=function(t){var e=t.match(/^[ ]*(?:Lat: )?(-?\d+\.?\d*)[, ]+(?:Lng: )?(-?\d+\.?\d*)[ ]*$/i);if(!e)return null;function n(t,e){return{center:[t,e],geometry:{type:"Point",coordinates:[t,e]},place_name:"Lat: "+e+", Lng: "+t,place_type:["coordinate"],properties:{},type:"Feature"}}var r=Number(e[1]),i=Number(e[2]),o=[];return(r<-90||r>90)&&o.push(n(r,i)),(i<-90||i>90)&&o.push(n(i,r)),0===o.length&&(o.push(n(r,i)),o.push(n(i,r))),o}},function(t,e,n){var r=n(14),i=n(15),o=n(16),a=n(26),{variableHandler2:s}=n(1);const u=new Proxy(window._mintMap,s);t.exports=function(){window._mintMap.mapInspect=new o({showInspectButton:!1,showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!1,renderPopup:function(t){return a.renderFeatures(t)}}),window._mintMap.map.addControl(window._mintMap.mapInspect),fetch("http://jonsnow.usc.edu:8081/mintmap/meta/metadata.json?ver="+Math.random()).then(t=>t.json()).then(t=>{u.metadata=t;var e=document.createElement("div");e.className="settingsWrapper";var n=document.createElement("div");n.className="collapse-control",n.innerHTML="",n.onclick=function(t){window._mintMap.toggleClass(_mintMapShadowRoot.querySelector(".settingsWrapper"),"slideDown"),window._polymerMap.mint_map_element.querySelector(".settings").scrollTo(0,0)},e.appendChild(n);var o=document.createElement("div");o.className="settings",e.appendChild(o);var a=document.createElement("div");a.setAttribute("id","layerSwitch"),o.appendChild(a);var s=document.createElement("div");s.className="variableTitle",s.innerHTML="<h2>Layers</h2>",o.appendChild(s);var l=document.createElement("div");l.setAttribute("id","theTagList"),l.className="layerList tags";var c=document.createElement("ul");c.setAttribute("id","the-ul-of-layer-list"),c.className="tags-list";var p=document.createElement("li");p.setAttribute("id","the-li-of-add-new-layer"),p.innerHTML='<a id=\'add-new-layer\' class=\'tag function-tag\' onclick=\'this.style.display="none";window._polymerMap.mint_map_element.querySelector("#search-new-layer").style.display="block";window._polymerMap.mint_map_element.querySelector("#search-new-layer").value="";window._polymerMap.mint_map_element.querySelector("#search-new-layer").focus();window._polymerMap.mint_map_element.querySelector("#the-li-of-add-new-layer .awesomplete").style.display = "inline-block";return false;\'>Add New Layer</a><input id=\'search-new-layer\' class=\'awesomplete\' style=\'display:none\' placeholder=\'Search new layers\'>';var f=document.createElement("li");f.innerHTML="<a id='show-all-layers' class='tag function-tag' data-show='no'>Show All Layers</a>",c.appendChild(p),c.appendChild(f),l.appendChild(c),o.appendChild(l);var d=document.createElement("div");d.className="properties",createProperitesPanel(o,d,t.sourceLayers,t.layerNames,t.hasData,t.hasTimeline),o.appendChild(d),_mintMapShadowRoot.querySelector(".geocoder").appendChild(geocoder.onAdd(map)),_mintMapShadowRoot.querySelector(".geocoder").appendChild(e),_mintMapShadowRoot.querySelectorAll(".property-slider").forEach(function(t,e){let n=t.getAttribute("data-panel");i.create(t,window._mintMap.sliderData[n]),t.noUiSlider.on("update",function(t,e){}),t.noUiSlider.on("change",function(e,r){window._mintMap.map;let i=new Date(parseInt(e[r]));if(isNaN(i.getTime()))return void console.log("slider time stamp is wrong!");window._mintMap.mapInspect._popup.isOpen()&&window._mintMap.mapInspect._popup.remove();let o=t.parentElement.parentElement.querySelector(".opacity-slider").value,a=window._mintMap.sliderData[n].extraOption,s=i.format(a.stepOption.format),u=n+"Layer_raster_"+s;t.parentElement.parentElement.querySelector(".opacity-slider").setAttribute("data-time",s),s===a.step[0]&&(u=n+"Layer_raster",t.parentElement.parentElement.querySelector(".opacity-slider").setAttribute("data-time","no")),window._mintMap.map.setPaintProperty(u,"raster-opacity",parseInt(o,10)/100),"visible"!==window._mintMap.map.getLayoutProperty(u,"visibility")&&window._mintMap.map.setLayoutProperty(u,"visibility","visible"),a.step.map(function(t,e){let r=n+"Layer_raster_"+t;0===e&&(r=n+"Layer_raster"),r!==u&&window._mintMap.map.setLayoutProperty(r,"visibility","none")})})});var h=_mintMapShadowRoot.querySelector("#search-new-layer");window._mintMap.autocomplete=new r(h,{list:window._mintMap.listOfLayersNotAdded,maxItems:5,minChars:1,autoFirst:!0}),r.$.bind(h,{"awesomplete-selectcomplete":function(e){var n=e.text.value,r=t.layerNames.indexOf(n);-1!=r&&(addNewLayerToMap(t.hasData[r],t.layerIds[r],t.layerNames[r],t.sourceLayers[r],t.hasData[r]?t.layers[r].file:"",t.hasTimeline[r])&&(window._mintMap.listOfLayersNotAdded=window._mintMap.listOfLayersNotAdded.filter(function(e){return e.value!==t.layerNames[r]}),window._mintMap.autocomplete.list=window._mintMap.listOfLayersNotAdded),_mintMapShadowRoot.querySelector("#search-new-layer").style.display="none",_mintMapShadowRoot.querySelector("#add-new-layer").style.display="block",_mintMapShadowRoot.querySelector("#the-li-of-add-new-layer .awesomplete").style.display="none")}}),window._mintMap.uiLoaded=!0},t=>{console.log(t)}),window._mintMap.map.addControl(new mapboxgl.NavigationControl)}},function(t,e,n){!function(){var e=function(t,n){var r=this;e.count=(e.count||0)+1,this.count=e.count,this.isOpened=!1,this.input=i(t),this.input.setAttribute("autocomplete","awesomplete"),this.input.setAttribute("aria-owns","awesomplete_list_"+this.count),this.input.setAttribute("role","combobox"),this.options=n=n||{},function(t,e,n){for(var r in e){var i=e[r],o=t.input.getAttribute("data-"+r.toLowerCase());"number"==typeof i?t[r]=parseInt(o):!1===i?t[r]=null!==o:i instanceof Function?t[r]=null:t[r]=o,t[r]||0===t[r]||(t[r]=r in n?n[r]:i)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:e.DATA,filter:e.FILTER_CONTAINS,sort:!1!==n.sort&&e.SORT_BYLENGTH,container:e.CONTAINER,item:e.ITEM,replace:e.REPLACE,tabSelect:!1},n),this.index=-1,this.container=this.container(t),this.ul=i.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;r.opened&&(13===e&&r.selected?(t.preventDefault(),r.select()):9===e&&r.selected&&r.tabSelect?r.select():27===e?r.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),r[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){t.preventDefault()},click:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),r.select(e,t.target))}}}},i.bind(this.input,this._events.input),i.bind(this.input.form,this._events.form),i.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],e.all.push(this)};function n(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}e.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=i(t))&&t.children){var e=[];r.apply(t.children).forEach(function(t){if(!t.disabled){var n=t.textContent.trim(),r=t.value||n,i=t.label||n;""!==r&&e.push({label:i,value:r})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,this.status.setAttribute("hidden",""),i.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.status.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),i.fire(this.input,"awesomplete-open")},destroy:function(){if(i.unbind(this.input,this._events.input),i.unbind(this.input.form,this._events.form),!this.options.container){var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container)}this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=e.all.indexOf(this);-1!==n&&e.all.splice(n,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent+", list item "+(t+1)+" of "+e.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=i.siblingIndex(t):t=this.ul.children[this.index],t){var n=this.suggestions[this.index];i.fire(this.input,"awesomplete-select",{text:n,origin:e||t})&&(this.replace(n),this.close({reason:"select"}),i.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(r){return new n(t.data(r,e))}).filter(function(n){return t.filter(n,e)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(n,r){t.ul.appendChild(t.item(n,e,r))}),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}},e.all=[],e.FILTER_CONTAINS=function(t,e){return RegExp(i.regExpEscape(e.trim()),"i").test(t)},e.FILTER_STARTSWITH=function(t,e){return RegExp("^"+i.regExpEscape(e.trim()),"i").test(t)},e.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},e.CONTAINER=function(t){return i.create("div",{className:"awesomplete",around:t})},e.ITEM=function(t,e,n){var r=""===e.trim()?t:t.replace(RegExp(i.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:r,"aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+n})},e.REPLACE=function(t){this.input.value=t.value},e.DATA=function(t){return t},Object.defineProperty(n.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),n.prototype.toString=n.prototype.valueOf=function(){return""+this.label};var r=Array.prototype.slice;function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t,e){return r.call((e||document).querySelectorAll(t))}function a(){o("input.awesomplete").forEach(function(t){new e(t)})}i.create=function(t,e){var n=document.createElement(t);for(var r in e){var o=e[r];if("inside"===r)i(o).appendChild(n);else if("around"===r){var a=i(o);a.parentNode.insertBefore(n,a),n.appendChild(a),null!=a.getAttribute("autofocus")&&a.focus()}else r in n?n[r]=o:n.setAttribute(r,o)}return n},i.bind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,r)})}},i.unbind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach(function(e){t.removeEventListener(e,r)})}},i.fire=function(t,e,n){var r=document.createEvent("HTMLEvents");for(var i in r.initEvent(e,!0,!0),n)r[i]=n[i];return t.dispatchEvent(r)},i.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof self&&(self.Awesomplete=e),"undefined"!=typeof Document&&("loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)),e.$=i,e.$$=o,t.exports&&(t.exports=e)}()},function(t,e,n){var r,i,o;/*! nouislider - 12.1.0 - 10/25/2018 */i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t="12.1.0";function e(t){return null!==t&&void 0!==t}function n(t){t.preventDefault()}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,n){n>0&&(u(t,e),setTimeout(function(){l(t,e)},n))}function o(t){return Math.max(Math.min(t,100),0)}function a(t){return Array.isArray(t)?t:[t]}function s(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function l(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function c(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||""),r=e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,i=e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop;return{x:r,y:i}}function p(t,e){return 100/(e-t)}function f(t,e){return 100*e/(t[1]-t[0])}function d(t,e){for(var n=1;t>=e[n];)n+=1;return n}function h(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=d(n,t),i=t[r-1],o=t[r],a=e[r-1],s=e[r];return a+function(t,e){return f(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([i,o],n)/p(a,s)}function m(t,e,n,r){if(100===r)return r;var i=d(r,t),o=t[i-1],a=t[i];return n?r-o>(a-o)/2?a:o:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(r-t[i-1],e[i-1]):r}function y(e,n,i){var o;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' contains invalid value.");if(!r(o="min"===e?0:"max"===e?100:parseFloat(e))||!r(n[0]))throw new Error("noUiSlider ("+t+"): 'range' value isn't numeric.");i.xPct.push(o),i.xVal.push(n[0]),o?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function g(t,e,n){if(!e)return!0;n.xSteps[t]=f([n.xVal[t],n.xVal[t+1]],e)/p(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],i=Math.ceil(Number(r.toFixed(3))-1),o=n.xVal[t]+n.xNumSteps[t]*i;n.xHighestCompleteStep[t]=o}function v(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(r in t)t.hasOwnProperty(r)&&i.push([t[r],r]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(t,e){return t[0][0]-e[0][0]}):i.sort(function(t,e){return t[0]-e[0]}),r=0;r<i.length;r++)y(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)g(r,this.xNumSteps[r],this)}v.prototype.getMargin=function(e){var n=this.xNumSteps[0];if(n&&e/n%1!=0)throw new Error("noUiSlider ("+t+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&f(this.xVal,e)},v.prototype.toStepping=function(t){return t=h(this.xVal,this.xPct,t)},v.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=d(n,e),i=t[r-1],o=t[r],a=e[r-1],s=e[r];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,o],(n-a)*p(a,s))}(this.xVal,this.xPct,t)},v.prototype.getStep=function(t){return t=m(this.xPct,this.xSteps,this.snap,t)},v.prototype.getNearbySteps=function(t){var e=d(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},v.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(s);return Math.max.apply(null,t)},v.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var b={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function w(e){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(e))return!0;throw new Error("noUiSlider ("+t+"): 'format' requires 'to' and 'from' methods.")}function _(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'step' is not numeric.");e.singleStep=n}function S(e,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+t+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+t+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new v(n,e.snap,e.singleStep)}function M(e,n){if(n=a(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+t+"): 'start' option is incorrect.");e.handles=n.length,e.start=n}function x(e,n){if(e.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'snap' option must be a boolean.")}function E(e,n){if(e.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animate' option must be a boolean.")}function A(e,n){if(e.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animationDuration' option must be a number.")}function C(e,n){var r,i=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(r=1;r<e.handles;r++)i.push(n);i.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==e.handles+1)throw new Error("noUiSlider ("+t+"): 'connect' option doesn't match handle count.");i=n}e.connect=i}function O(e,n){switch(n){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+t+"): 'orientation' option is invalid.")}}function N(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider ("+t+"): 'margin' option is only supported on linear sliders.")}function L(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+t+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function j(e,n){if(!r(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!r(n[0])&&!r(n[1]))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){if(Array.isArray(n)||(n=[n,n]),e.padding=[e.spectrum.getMargin(n[0]),e.spectrum.getMargin(n[1])],!1===e.padding[0]||!1===e.padding[1])throw new Error("noUiSlider ("+t+"): 'padding' option is only supported on linear sliders.");if(e.padding[0]<0||e.padding[1]<0)throw new Error("noUiSlider ("+t+"): 'padding' option must be a positive number(s).");if(e.padding[0]+e.padding[1]>=100)throw new Error("noUiSlider ("+t+"): 'padding' option must not exceed 100% of the range.")}}function k(e,n){switch(n){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+t+"): 'direction' option was not recognized.")}}function T(e,n){if("string"!=typeof n)throw new Error("noUiSlider ("+t+"): 'behaviour' must be a string containing options.");var r=n.indexOf("tap")>=0,i=n.indexOf("drag")>=0,o=n.indexOf("fixed")>=0,a=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0,u=n.indexOf("unconstrained")>=0;if(o){if(2!==e.handles)throw new Error("noUiSlider ("+t+"): 'fixed' behaviour must be used with 2 handles");N(e,e.start[1]-e.start[0])}if(u&&(e.margin||e.limit))throw new Error("noUiSlider ("+t+"): 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:r||a,drag:i,fixed:o,snap:a,hover:s,unconstrained:u}}function P(e,n){if(!1!==n)if(!0===n){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(!0)}else{if(e.tooltips=a(n),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+t+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+t+"): 'tooltips' must be passed a formatter or 'false'.")})}}function I(t,e){t.ariaFormat=e,w(e)}function F(t,e){t.format=e,w(e)}function z(e,n){if(e.keyboardSupport=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'keyboardSupport' option must be a boolean.")}function H(t,e){t.documentElement=e}function D(e,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+t+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=n}function U(e,n){if("object"!=typeof n)throw new Error("noUiSlider ("+t+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var r in e.cssClasses={},n)n.hasOwnProperty(r)&&(e.cssClasses[r]=e.cssPrefix+n[r]);else e.cssClasses=n}function R(n){var r={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:b,format:b},i={step:{r:!1,t:_},start:{r:!0,t:M},connect:{r:!0,t:C},direction:{r:!0,t:k},snap:{r:!1,t:x},animate:{r:!1,t:E},animationDuration:{r:!1,t:A},range:{r:!0,t:S},orientation:{r:!1,t:O},margin:{r:!1,t:N},limit:{r:!1,t:L},padding:{r:!1,t:j},behaviour:{r:!0,t:T},ariaFormat:{r:!1,t:I},format:{r:!1,t:F},tooltips:{r:!1,t:P},keyboardSupport:{r:!0,t:z},documentElement:{r:!1,t:H},cssPrefix:{r:!0,t:D},cssClasses:{r:!0,t:U}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};n.format&&!n.ariaFormat&&(n.ariaFormat=n.format),Object.keys(i).forEach(function(a){if(!e(n[a])&&void 0===o[a]){if(i[a].r)throw new Error("noUiSlider ("+t+"): '"+a+"' is required.");return!0}i[a].t(r,e(n[a])?n[a]:o[a])}),r.pips=n.pips;var a=document.createElement("div"),s=void 0!==a.style.msTransform,u=void 0!==a.style.transform;return r.transformRule=u?"transform":s?"msTransform":"webkitTransform",r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function B(e,r,s){var p,f,d,h,m,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},g=window.CSS&&CSS.supports&&CSS.supports("touch-action","none"),v=g&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),b=e,w=[],_=[],S=0,M=r.spectrum,x=[],E={},A=e.ownerDocument,C=r.documentElement||A.documentElement,O=A.body,N=-1,L=0,j=1,k=2,T="rtl"===A.dir||1===r.ort?0:100;function P(t,e){var n=A.createElement("div");return e&&u(n,e),t.appendChild(n),n}function I(t,e){var n=P(t,r.cssClasses.origin),i=P(n,r.cssClasses.handle);return i.setAttribute("data-handle",e),r.keyboardSupport&&i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===e?u(i,r.cssClasses.handleLower):e===r.handles-1&&u(i,r.cssClasses.handleUpper),n}function F(t,e){return!!e&&P(t,r.cssClasses.connect)}function z(t,e){return!!r.tooltips[e]&&P(t.firstChild,r.cssClasses.tooltip)}function H(t,e,n){var i=A.createElement("div"),o=[];o[L]=r.cssClasses.valueNormal,o[j]=r.cssClasses.valueLarge,o[k]=r.cssClasses.valueSub;var a=[];a[L]=r.cssClasses.markerNormal,a[j]=r.cssClasses.markerLarge,a[k]=r.cssClasses.markerSub;var s=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],l=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function c(t,e){var n=e===r.cssClasses.value,i=n?s:l,u=n?o:a;return e+" "+i[r.ort]+" "+u[t]}return u(i,r.cssClasses.pips),u(i,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach(function(o){!function(t,o,a){if((a=e?e(o,a):a)!==N){var s=P(i,!1);s.className=c(a,r.cssClasses.marker),s.style[r.style]=t+"%",a>L&&((s=P(i,!1)).className=c(a,r.cssClasses.value),s.setAttribute("data-value",o),s.style[r.style]=t+"%",s.innerHTML=n.to(o))}}(o,t[o][0],t[o][1])}),i}function D(){m&&(function(t){t.parentElement.removeChild(t)}(m),m=null)}function U(e){D();var n=e.mode,r=e.density||1,i=e.filter||!1,o=e.values||!1,a=e.stepped||!1,s=function(e,n,r){if("range"===e||"steps"===e)return M.xVal;if("count"===e){if(n<2)throw new Error("noUiSlider ("+t+"): 'values' (>= 2) required for mode 'count'.");var i=n-1,o=100/i;for(n=[];i--;)n[i]=i*o;n.push(100),e="positions"}return"positions"===e?n.map(function(t){return M.fromStepping(r?M.getStep(t):t)}):"values"===e?r?n.map(function(t){return M.fromStepping(M.getStep(M.toStepping(t)))}):n:void 0}(n,o,a),u=function(t,e,n){function r(t,e){return(t+e).toFixed(7)/1}var i={},o=M.xVal[0],a=M.xVal[M.xVal.length-1],s=!1,u=!1,l=0;return(n=function(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}(n.slice().sort(function(t,e){return t-e})))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),u=!0),n.forEach(function(o,a){var c,p,f,d,h,m,y,g,v,b,w=o,_=n[a+1],S="steps"===e;if(S&&(c=M.xNumSteps[a]),c||(c=_-w),!1!==w&&void 0!==_)for(c=Math.max(c,1e-7),p=w;p<=_;p=r(p,c)){for(g=(h=(d=M.toStepping(p))-l)/t,b=h/(v=Math.round(g)),f=1;f<=v;f+=1)i[(m=l+f*b).toFixed(5)]=[M.fromStepping(m),0];y=n.indexOf(p)>-1?j:S?k:L,!a&&s&&(y=0),p===_&&u||(i[d.toFixed(5)]=[p,y]),l=d}}),i}(r,n,s),l=e.format||{to:Math.round};return m=b.appendChild(H(u,i,l))}function B(){var t=p.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||p[e]:t.height||p[e]}function V(t,e,n,i){var o=function(o){return!!(o=function(t,e,n){var r,i,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),o){var u=function(t){return t.target===n||n.contains(t.target)};if("touchstart"===t.type){var l=Array.prototype.filter.call(t.touches,u);if(l.length>1)return!1;r=l[0].pageX,i=l[0].pageY}else{var p=Array.prototype.find.call(t.changedTouches,u);if(!p)return!1;r=p.pageX,i=p.pageY}}return e=e||c(A),(a||s)&&(r=t.clientX+e.x,i=t.clientY+e.y),t.pageOffset=e,t.points=[r,i],t.cursor=a||s,t}(o,i.pageOffset,i.target||e))&&!(b.hasAttribute("disabled")&&!i.doNotReject)&&!(function(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}(b,r.cssClasses.tap)&&!i.doNotReject)&&!(t===y.start&&void 0!==o.buttons&&o.buttons>1)&&(!i.hover||!o.buttons)&&(v||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i))},a=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!!v&&{passive:!0}),a.push([t,o])}),a}function q(t){var e=t-function(t,e){var n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.documentElement,o=c(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),e?n.top+o.y-i.clientTop:n.left+o.x-i.clientLeft}(p,r.ort),n=100*e/B();return n=o(n),r.dir?100-n:n}function $(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&W(t,e)}function G(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return W(t,e);var n=(r.dir?-1:1)*(t.calcPoint-e.startCalcPoint),i=100*n/e.baseSize;nt(n>0,i,e.locations,e.handleNumbers)}function W(t,e){e.handle&&(l(e.handle,r.cssClasses.active),S-=1),e.listeners.forEach(function(t){C.removeEventListener(t[0],t[1])}),0===S&&(l(b,r.cssClasses.drag),it(),t.cursor&&(O.style.cursor="",O.removeEventListener("selectstart",n))),e.handleNumbers.forEach(function(t){Q("change",t),Q("set",t),Q("end",t)})}function Y(t,e){var i;if(1===e.handleNumbers.length){var o=f[e.handleNumbers[0]];if(o.hasAttribute("disabled"))return!1;i=o.children[0],S+=1,u(i,r.cssClasses.active)}t.stopPropagation();var a=[],s=V(y.move,C,G,{target:t.target,handle:i,listeners:a,startCalcPoint:t.calcPoint,baseSize:B(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:w.slice()}),l=V(y.end,C,W,{target:t.target,handle:i,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers}),c=V("mouseout",C,$,{target:t.target,handle:i,listeners:a,doNotReject:!0,handleNumbers:e.handleNumbers});a.push.apply(a,s.concat(l,c)),t.cursor&&(O.style.cursor=getComputedStyle(t.target).cursor,f.length>1&&u(b,r.cssClasses.drag),O.addEventListener("selectstart",n,!1)),e.handleNumbers.forEach(function(t){Q("start",t)})}function J(t){t.stopPropagation();var e=q(t.calcPoint),n=function(t){var e=100,n=!1;return f.forEach(function(r,i){if(!r.hasAttribute("disabled")){var o=Math.abs(w[i]-t);(o<e||100===o&&100===e)&&(n=i,e=o)}}),n}(e);if(!1===n)return!1;r.events.snap||i(b,r.cssClasses.tap,r.animationDuration),ot(n,e,!0,!0),it(),Q("slide",n,!0),Q("update",n,!0),Q("change",n,!0),Q("set",n,!0),r.events.snap&&Y(t,{handleNumbers:[n]})}function X(t){var e=q(t.calcPoint),n=M.getStep(e),r=M.fromStepping(n);Object.keys(E).forEach(function(t){"hover"===t.split(".")[0]&&E[t].forEach(function(t){t.call(h,r)})})}function Z(t,e){E[t]=E[t]||[],E[t].push(e),"update"===t.split(".")[0]&&f.forEach(function(t,e){Q("update",e)})}function Q(t,e,n){Object.keys(E).forEach(function(i){var o=i.split(".")[0];t===o&&E[i].forEach(function(t){t.call(h,x.map(r.format.to),e,x.slice(),n||!1,w.slice())})})}function K(t){return t+"%"}function tt(t,e,n,i,a,s){return f.length>1&&!r.events.unconstrained&&(i&&e>0&&(n=Math.max(n,t[e-1]+r.margin)),a&&e<f.length-1&&(n=Math.min(n,t[e+1]-r.margin))),f.length>1&&r.limit&&(i&&e>0&&(n=Math.min(n,t[e-1]+r.limit)),a&&e<f.length-1&&(n=Math.max(n,t[e+1]-r.limit))),r.padding&&(0===e&&(n=Math.max(n,r.padding[0])),e===f.length-1&&(n=Math.min(n,100-r.padding[1]))),!((n=o(n=M.getStep(n)))===t[e]&&!s)&&n}function et(t,e){var n=r.ort;return(n?e:t)+", "+(n?t:e)}function nt(t,e,n,r){var i=n.slice(),o=[!t,t],a=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach(function(t,n){var r=tt(i,t,i[t]+e,o[n],a[n],!1);!1===r?e=0:(e=r-i[t],i[t]=r)}):o=a=[!0];var s=!1;r.forEach(function(t,r){s=ot(t,n[t]+e,o[r],a[r])||s}),s&&r.forEach(function(t){Q("update",t),Q("slide",t)})}function rt(t,e){return r.dir?100-t-e:t}function it(){_.forEach(function(t){var e=w[t]>50?-1:1,n=3+(f.length+e*t);f[t].style.zIndex=n})}function ot(t,e,n,i){return!1!==(e=tt(w,t,e,n,i,!1))&&(function(t,e){w[t]=e,x[t]=M.fromStepping(e);var n="translate("+et(K(rt(e,0)-T),"0")+")";f[t].style[r.transformRule]=n,at(t),at(t+1)}(t,e),!0)}function at(t){if(d[t]){var e=0,n=100;0!==t&&(e=w[t-1]),t!==d.length-1&&(n=w[t]);var i=n-e,o="translate("+et(K(rt(e,i)),"0")+")",a="scale("+et(i/100,"1")+")";d[t].style[r.transformRule]=o+" "+a}}function st(t,e){var n=a(t),o=void 0===w[0];e=void 0===e||!!e,r.animate&&!o&&i(b,r.cssClasses.tap,r.animationDuration),_.forEach(function(t){ot(t,function(t,e){return null===t||!1===t||void 0===t?w[e]:("number"==typeof t&&(t=String(t)),t=r.format.from(t),!1===(t=M.toStepping(t))||isNaN(t)?w[e]:t)}(n[t],t),!0,!1)}),_.forEach(function(t){ot(t,w[t],!0,!0)}),it(),_.forEach(function(t){Q("update",t),null!==n[t]&&e&&Q("set",t)})}function ut(){var t=x.map(r.format.to);return 1===t.length?t[0]:t}return p=function(t){return u(t,r.cssClasses.target),0===r.dir?u(t,r.cssClasses.ltr):u(t,r.cssClasses.rtl),0===r.ort?u(t,r.cssClasses.horizontal):u(t,r.cssClasses.vertical),P(t,r.cssClasses.base)}(b),function(t,e){var n=P(e,r.cssClasses.connects);f=[],(d=[]).push(F(n,t[0]));for(var i=0;i<r.handles;i++)f.push(I(e,i)),_[i]=i,d.push(F(n,t[i+1]))}(r.connect,p),function(t){t.fixed||f.forEach(function(t,e){V(y.start,t.children[0],Y,{handleNumbers:[e]})}),t.tap&&V(y.start,p,J,{}),t.hover&&V(y.move,p,X,{hover:!0}),t.drag&&d.forEach(function(e,n){if(!1!==e&&0!==n&&n!==d.length-1){var i=f[n-1],o=f[n],a=[e];u(e,r.cssClasses.draggable),t.fixed&&(a.push(i.children[0]),a.push(o.children[0])),a.forEach(function(t){V(y.start,t,Y,{handles:[i,o],handleNumbers:[n-1,n]})})}})}(r.events),st(r.start),h={destroy:function(){for(var t in r.cssClasses)r.cssClasses.hasOwnProperty(t)&&l(b,r.cssClasses[t]);for(;b.firstChild;)b.removeChild(b.firstChild);delete b.noUiSlider},steps:function(){return w.map(function(t,e){var n=M.getNearbySteps(t),r=x[e],i=n.thisStep.step,o=null;!1!==i&&r+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-r),o=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===t?i=null:0===t&&(o=null);var a=M.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,i]})},on:Z,off:function(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(E).forEach(function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete E[t]})},get:ut,set:st,setHandle:function(e,n,r){var i=[];if(!((e=Number(e))>=0&&e<_.length))throw new Error("noUiSlider ("+t+"): invalid handle number, got: "+e);for(var o=0;o<_.length;o++)i[o]=null;i[e]=n,st(i,r)},reset:function(t){st(r.start,t)},__moveHandles:function(t,e,n){nt(t,e,w,n)},options:s,updateOptions:function(t,e){var n=ut(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(e){void 0!==t[e]&&(s[e]=t[e])});var o=R(s);i.forEach(function(e){void 0!==t[e]&&(r[e]=o[e])}),M=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips&&U(r.pips),w=[],st(t.start||n,e)},target:b,removePips:D,pips:U},r.pips&&U(r.pips),r.tooltips&&function(){var t=f.map(z);Z("update",function(e,n,i){if(t[n]){var o=e[n];!0!==r.tooltips[n]&&(o=r.tooltips[n].to(i[n])),t[n].innerHTML=o}})}(),Z("update",function(t,e,n,i,o){_.forEach(function(t){var e=f[t],i=tt(w,t,0,!0,!0,!0),a=tt(w,t,100,!0,!0,!0),s=o[t],u=r.ariaFormat.to(n[t]);i=M.fromStepping(i).toFixed(1),a=M.fromStepping(a).toFixed(1),s=M.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",u)})}),h}return{__spectrum:v,version:t,create:function(e,n){if(!e||!e.nodeName)throw new Error("noUiSlider ("+t+"): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider ("+t+"): Slider was already initialized.");var r=R(n),i=B(e,r,n);return e.noUiSlider=i,i}}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r=n(17);t.exports=r},function(t,e,n){var r=n(18),i=n(19),o=n(20),a=n(23),s=n(24);function u(t){return Object.keys(t.sources).forEach(function(e){t.sources[e]=function(t){return("raster"===t.type||"raster-dem"===t.type)&&t.tileSize&&t.tiles?{type:t.type,tileSize:t.tileSize,tiles:t.tiles}:"raster"!==t.type&&"raster-dem"!==t.type||!t.url?t:{type:t.type,url:t.url}}(t.sources[e])}),t}function l(t){if(!(this instanceof l))throw new Error("MapboxInspect needs to be called with the new keyword");var e=null;window.mapboxgl?(!function(t){var e=t.version.split(".").map(parseFloat);e[0]<1&&e[1]<29&&console.error("MapboxInspect only supports Mapbox GL JS >= v0.29.0. Please upgrade your Mapbox GL JS version.")}(window.mapboxgl),e=new window.mapboxgl.Popup({closeButton:!1,closeOnClick:!1})):t.popup||console.error("Mapbox GL JS can not be found. Make sure to include it or pass an initialized MapboxGL Popup to MapboxInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:s.brightColor,buildInspectStyle:r.generateInspectStyle,renderPopup:a,popup:e,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{}},t),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this.toggleInspector=this.toggleInspector.bind(this),this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._onSourceChange=this._onSourceChange.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onStyleChange=this._onStyleChange.bind(this),this._originalStyle=null,this._toggle=new i({show:this.options.showInspectButton,onToggle:this.toggleInspector.bind(this)})}l.prototype.toggleInspector=function(){this._showInspectMap=!this._showInspectMap,this.render()},l.prototype._inspectStyle=function(){var t=r.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),t,{backgroundColor:this.options.backgroundColor})},l.prototype.render=function(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(u(function(t){return Object.assign(t,{metadata:Object.assign({},t.metadata,{"mapbox-gl-inspect:inspect":!0})})}(this._inspectStyle()))),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(u(this._originalStyle)),this._toggle.setInspectIcon())},l.prototype._onSourceChange=function(){var t=this.sources,e=this._map,n=e.getStyle(),r=Object.keys(n.sources),i=Object.assign({},t);Object.keys(e.style.sourceCaches).forEach(function(n){var r=e.style.sourceCaches[n]||{_source:{}},i=r._source.vectorLayerIds;i?t[n]=i:"geojson"===r._source.type&&(t[n]=[])}),Object.keys(t).forEach(function(e){-1===r.indexOf(e)&&delete t[e]}),!o(i,t)&&Object.keys(t).length>0&&this.render()},l.prototype._onStyleChange=function(){var t=this._map.getStyle();(function(t){return t.metadata&&t.metadata["mapbox-gl-inspect:inspect"]})(t)||(this._originalStyle=t)},l.prototype._onMousemove=function(t){var e;e=0===this.options.selectThreshold?t.point:[[t.point.x-this.options.selectThreshold,t.point.y+this.options.selectThreshold],[t.point.x+this.options.selectThreshold,t.point.y-this.options.selectThreshold]];var n=this._map.queryRenderedFeatures(e,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=n.length?"pointer":"",this._showInspectMap){if(!this.options.showInspectMapPopup)return;if("mousemove"===t.type&&!this.options.showInspectMapPopupOnHover)return;"click"===t.type&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup)return;if("mousemove"===t.type&&!this.options.showMapPopupOnHover)return;"click"===t.type&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}!this._popupBlocked&&this._popup&&(n.length?(this._popup.setLngLat(t.lngLat),"string"===typeof this.options.renderPopup(n)?this._popup.setHTML(this.options.renderPopup(n)):this._popup.setDOMContent(this.options.renderPopup(n)),this._popup.addTo(this._map)):this._popup.remove())},l.prototype.onAdd=function(t){return this._map=t,0===Object.keys(this.sources).length&&(t.on("tiledata",this._onSourceChange),t.on("sourcedata",this._onSourceChange)),t.on("styledata",this._onStyleChange),t.on("load",this._onStyleChange),t.on("mousemove",this._onMousemove),t.on("click",this._onMousemove),this._toggle.elem},l.prototype.onRemove=function(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove);var t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0},t.exports=l},function(t,e){function n(t,e,n){var r={id:[e,n,"circle"].join("_"),source:e,type:"circle",paint:{"circle-color":t,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function r(t,e,n,r){var i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":t,"fill-antialias":!0,"fill-outline-color":t},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function i(t,e,n){var r={id:[e,n,"line"].join("_"),source:e,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":t},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}e.polygonLayer=r,e.lineLayer=i,e.circleLayer=n,e.generateInspectStyle=function(t,e,n){var r={id:"background",type:"background",paint:{"background-color":(n=Object.assign({backgroundColor:"#fff"},n)).backgroundColor}},i={};return Object.keys(t.sources).forEach(function(e){var n=t.sources[e];"vector"!==n.type&&"geojson"!==n.type||(i[e]=n)}),Object.assign(t,{layers:[r].concat(e),soources:i})},e.generateColoredLayers=function(t,e){var o=[],a=[],s=[];function u(t){var n=e.bind(null,t);return{circle:n(.8),line:n(.6),polygon:n(.3),polygonOutline:n(.6),default:n(1)}}return Object.keys(t).forEach(function(e){var l=t[e];if(l&&0!==l.length)l.forEach(function(t){var l=u(t);a.push(n(l.circle,e,t)),s.push(i(l.line,e,t)),o.push(r(l.polygon,l.polygonOutline,e,t))});else{var c=u(e);a.push(n(c.circle,e)),s.push(i(c.line,e)),o.push(r(c.polygon,c.polygonOutline,e))}}),o.concat(s).concat(a)}},function(t,e){function n(t){t=Object.assign({show:!0,onToggle:function(){}},t),this._btn=function(){var t=document.createElement("button");return t.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect",t.type="button",t["aria-label"]="Inspect",t}(),this._btn.onclick=t.onToggle,this.elem=function(t,e){var n=document.createElement("div");return n.className="mapboxgl-ctrl mapboxgl-ctrl-group",n.appendChild(t),e||(n.style.display="none"),n}(this._btn,t.show)}n.prototype.setInspectIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-inspect"},n.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},t.exports=n},function(t,e,n){(function(t,n){var r=200,i="__lodash_hash_undefined__",o=1,a=2,s=9007199254740991,u="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",p="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",m="[object GeneratorFunction]",y="[object Map]",g="[object Number]",v="[object Null]",b="[object Object]",w="[object Proxy]",_="[object RegExp]",S="[object Set]",M="[object String]",x="[object Symbol]",E="[object Undefined]",A="[object ArrayBuffer]",C="[object DataView]",O=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L[u]=L[l]=L[A]=L[p]=L[C]=L[f]=L[d]=L[h]=L[y]=L[g]=L[b]=L[_]=L[S]=L[M]=L["[object WeakMap]"]=!1;var j="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,T=j||k||Function("return this")(),P=e&&!e.nodeType&&e,I=P&&"object"==typeof n&&n&&!n.nodeType&&n,F=I&&I.exports===P,z=F&&j.process,H=function(){try{return z&&z.binding&&z.binding("util")}catch(t){}}(),D=H&&H.isTypedArray;function U(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function R(t,e){return t.has(e)}function B(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var q=Array.prototype,$=Function.prototype,G=Object.prototype,W=T["__core-js_shared__"],Y=$.toString,J=G.hasOwnProperty,X=function(){var t=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Z=G.toString,Q=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=F?T.Buffer:void 0,tt=T.Symbol,et=T.Uint8Array,nt=G.propertyIsEnumerable,rt=q.splice,it=tt?tt.toStringTag:void 0,ot=Object.getOwnPropertySymbols,at=K?K.isBuffer:void 0,st=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),ut=Ft(T,"DataView"),lt=Ft(T,"Map"),ct=Ft(T,"Promise"),pt=Ft(T,"Set"),ft=Ft(T,"WeakMap"),dt=Ft(Object,"create"),ht=Ut(ut),mt=Ut(lt),yt=Ut(ct),gt=Ut(pt),vt=Ut(ft),bt=tt?tt.prototype:void 0,wt=bt?bt.valueOf:void 0;function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Mt;++e<n;)this.add(t[e])}function Et(t){var e=this.__data__=new St(t);this.size=e.size}function At(t,e){var n=Vt(t),r=!n&&Bt(t),i=!n&&!r&&qt(t),o=!n&&!r&&!i&&Jt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!J.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Dt(l,u))||s.push(l);return s}function Ct(t,e){for(var n=t.length;n--;)if(Rt(t[n][0],e))return n;return-1}function Ot(t){return null==t?void 0===t?E:v:it&&it in Object(t)?function(t){var e=J.call(t,it),n=t[it];try{t[it]=void 0;var r=!0}catch(t){}var i=Z.call(t);r&&(e?t[it]=n:delete t[it]);return i}(t):function(t){return Z.call(t)}(t)}function Nt(t){return Yt(t)&&Ot(t)==u}function Lt(t,e,n,r,i){return t===e||(null==t||null==e||!Yt(t)&&!Yt(e)?t!=t&&e!=e:function(t,e,n,r,i,s){var c=Vt(t),h=Vt(e),m=c?l:Ht(t),v=h?l:Ht(e),w=(m=m==u?b:m)==b,E=(v=v==u?b:v)==b,O=m==v;if(O&&qt(t)){if(!qt(e))return!1;c=!0,w=!1}if(O&&!w)return s||(s=new Et),c||Jt(t)?Tt(t,e,n,r,i,s):function(t,e,n,r,i,s,u){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!s(new et(t),new et(e)));case p:case f:case g:return Rt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case M:return t==e+"";case y:var l=B;case S:var c=r&o;if(l||(l=V),t.size!=e.size&&!c)return!1;var h=u.get(t);if(h)return h==e;r|=a,u.set(t,e);var m=Tt(l(t),l(e),r,i,s,u);return u.delete(t),m;case x:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,m,n,r,i,s);if(!(n&o)){var N=w&&J.call(t,"__wrapped__"),L=E&&J.call(e,"__wrapped__");if(N||L){var j=N?t.value():t,k=L?e.value():e;return s||(s=new Et),i(j,k,n,r,s)}}if(!O)return!1;return s||(s=new Et),function(t,e,n,r,i,a){var s=n&o,u=Pt(t),l=u.length,c=Pt(e).length;if(l!=c&&!s)return!1;for(var p=l;p--;){var f=u[p];if(!(s?f in e:J.call(e,f)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var h=!0;a.set(t,e),a.set(e,t);for(var m=s;++p<l;){f=u[p];var y=t[f],g=e[f];if(r)var v=s?r(g,y,f,e,t,a):r(y,g,f,t,e,a);if(!(void 0===v?y===g||i(y,g,n,r,a):v)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return a.delete(t),a.delete(e),h}(t,e,n,r,i,s)}(t,e,n,r,Lt,i))}function jt(t){return!(!Wt(t)||function(t){return!!X&&X in t}(t))&&($t(t)?Q:O).test(Ut(t))}function kt(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||G;return t===n}(t))return st(t);var e=[];for(var n in Object(t))J.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Tt(t,e,n,r,i,s){var u=n&o,l=t.length,c=e.length;if(l!=c&&!(u&&c>l))return!1;var p=s.get(t);if(p&&s.get(e))return p==e;var f=-1,d=!0,h=n&a?new xt:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var m=t[f],y=e[f];if(r)var g=u?r(y,m,f,e,t,s):r(m,y,f,t,e,s);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!U(e,function(t,e){if(!R(h,e)&&(m===t||i(m,t,n,r,s)))return h.push(e)})){d=!1;break}}else if(m!==y&&!i(m,y,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Pt(t){return function(t,e,n){var r=e(t);return Vt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Xt,zt)}function It(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ft(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return jt(n)?n:void 0}_t.prototype.clear=function(){this.__data__=dt?dt(null):{},this.size=0},_t.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_t.prototype.get=function(t){var e=this.__data__;if(dt){var n=e[t];return n===i?void 0:n}return J.call(e,t)?e[t]:void 0},_t.prototype.has=function(t){var e=this.__data__;return dt?void 0!==e[t]:J.call(e,t)},_t.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=dt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0||(n==e.length-1?e.pop():rt.call(e,n,1),--this.size,0))},St.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Ct(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Mt.prototype.clear=function(){this.size=0,this.__data__={hash:new _t,map:new(lt||St),string:new _t}},Mt.prototype.delete=function(t){var e=It(this,t).delete(t);return this.size-=e?1:0,e},Mt.prototype.get=function(t){return It(this,t).get(t)},Mt.prototype.has=function(t){return It(this,t).has(t)},Mt.prototype.set=function(t,e){var n=It(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,i),this},xt.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.clear=function(){this.__data__=new St,this.size=0},Et.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var i=n.__data__;if(!lt||i.length<r-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Mt(i)}return n.set(t,e),this.size=n.size,this};var zt=ot?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(ot(t),function(e){return nt.call(t,e)}))}:function(){return[]},Ht=Ot;function Dt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Rt(t,e){return t===e||t!=t&&e!=e}(ut&&Ht(new ut(new ArrayBuffer(1)))!=C||lt&&Ht(new lt)!=y||ct&&"[object Promise]"!=Ht(ct.resolve())||pt&&Ht(new pt)!=S||ft&&"[object WeakMap]"!=Ht(new ft))&&(Ht=function(t){var e=Ot(t),n=e==b?t.constructor:void 0,r=n?Ut(n):"";if(r)switch(r){case ht:return C;case mt:return y;case yt:return"[object Promise]";case gt:return S;case vt:return"[object WeakMap]"}return e});var Bt=Nt(function(){return arguments}())?Nt:function(t){return Yt(t)&&J.call(t,"callee")&&!nt.call(t,"callee")},Vt=Array.isArray;var qt=at||function(){return!1};function $t(t){if(!Wt(t))return!1;var e=Ot(t);return e==h||e==m||e==c||e==w}function Gt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Wt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Yt(t){return null!=t&&"object"==typeof t}var Jt=D?function(t){return function(e){return t(e)}}(D):function(t){return Yt(t)&&Gt(t.length)&&!!L[Ot(t)]};function Xt(t){return function(t){return null!=t&&Gt(t.length)&&!$t(t)}(t)?At(t):kt(t)}n.exports=function(t,e){return Lt(t,e)}}).call(this,n(21),n(22)(t))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t,e){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+t+'</div><div class="mapbox-gl-inspect_property-value">'+function(t){return void 0===t||null===t?t:t instanceof Date?t.toLocaleString():"object"==typeof t||"number"==typeof t||"string"==typeof t?t.toString():t}(e)+"</div></div>"}function r(t){return t.map(function(t){return'<div class="mapbox-gl-inspect_feature">'+function(t){var e=function(t){return'<div class="mapbox-gl-inspect_layer">'+t+"</div>"}(t.layer["source-layer"]||t.layer.source),r=n("$type",t.geometry.type),i=Object.keys(t.properties).map(function(e){return n(e,t.properties[e])});return[e,r].concat(i).join("")}(t)+"</div>"}).join("")}t.exports=function(t){return'<div class="mapbox-gl-inspect_popup">'+r(t)+"</div>"}},function(t,e,n){var r=n(25);e.brightColor=function(t,e){var n="bright",i=null;return/water|ocean|lake|sea|river/.test(t)&&(i="blue"),/state|country|place/.test(t)&&(i="pink"),/road|highway|transport/.test(t)&&(i="orange"),/contour|building/.test(t)&&(i="monochrome"),/building/.test(t)&&(n="dark"),/contour|landuse/.test(t)&&(i="yellow"),/wood|forest|park|landcover/.test(t)&&(i="green"),"rgba("+r({luminosity:n,hue:i,seed:t,format:"rgbArray"}).concat([e||1]).join(", ")+")"}},function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){var t=null,e={};o("monochrome",null,[[0,0],[100,0]]),o("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),o("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),o("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),o("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),o("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),o("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),o("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var n=function(o){if((o=o||{}).seed&&o.seed===parseInt(o.seed,10))t=o.seed;else if("string"==typeof o.seed)t=function(t){for(var e=0,n=0;n!==t.length&&!(e>=Number.MAX_SAFE_INTEGER);n++)e+=t.charCodeAt(n);return e}(o.seed);else{if(void 0!==o.seed&&null!==o.seed)throw new TypeError("The seed value must be an integer or string");t=null}var u,l,c;if(null!==o.count&&void 0!==o.count){var p=o.count,f=[];for(o.count=null;p>f.length;)t&&o.seed&&(o.seed+=1),f.push(n(o));return o.count=p,f}return u=function(t){var n=i(function(t){if("number"==typeof parseInt(t)){var n=parseInt(t);if(n<360&&n>0)return[n,n]}if("string"==typeof t&&e[t]){var r=e[t];if(r.hueRange)return r.hueRange}return[0,360]}(t.hue));return n<0&&(n=360+n),n}(o),l=function(t,e){if("random"===e.luminosity)return i([0,100]);if("monochrome"===e.hue)return 0;var n=function(t){return r(t).saturationRange}(t),o=n[0],a=n[1];switch(e.luminosity){case"bright":o=55;break;case"dark":o=a-10;break;case"light":a=55}return i([o,a])}(u,o),c=function(t,e,n){var o=function(t,e){for(var n=r(t).lowerBounds,i=0;i<n.length-1;i++){var o=n[i][0],a=n[i][1],s=n[i+1][0],u=n[i+1][1];if(e>=o&&e<=s){var l=(u-a)/(s-o),c=a-l*o;return l*e+c}}return 0}(t,e),a=100;switch(n.luminosity){case"dark":a=o+20;break;case"light":o=(a+o)/2;break;case"random":o=0,a=100}return i([o,a])}(u,l,o),function(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return s(t);case"hsl":var n=s(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=s(t);return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+Math.random()+")";case"rgbArray":return a(t);case"rgb":var i=a(t);return"rgb("+i.join(", ")+")";case"rgba":var o=a(t);return"rgba("+o.join(", ")+", "+Math.random()+")";default:return function(t){var e=a(t);function n(t){var e=t.toString(16);return 1==e.length?"0"+e:e}return"#"+n(e[0])+n(e[1])+n(e[2])}(t)}}([u,l,c],o)};function r(t){for(var n in t>=334&&t<=360&&(t-=360),e){var r=e[n];if(r.hueRange&&t>=r.hueRange[0]&&t<=r.hueRange[1])return e[n]}return"Color not found"}function i(e){if(null===t)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var n=e[1]||1,r=e[0]||0,i=(t=(9301*t+49297)%233280)/233280;return Math.floor(r+i*(n-r))}function o(t,n,r){var i=r[0][0],o=r[r.length-1][0],a=r[r.length-1][1],s=r[0][1];e[t]={hueRange:n,lowerBounds:r,saturationRange:[i,o],brightnessRange:[a,s]}}function a(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var n=t[1]/100,r=t[2]/100,i=Math.floor(6*e),o=6*e-i,a=r*(1-n),s=r*(1-o*n),u=r*(1-(1-o)*n),l=256,c=256,p=256;switch(i){case 0:l=r,c=u,p=a;break;case 1:l=s,c=r,p=a;break;case 2:l=a,c=r,p=u;break;case 3:l=a,c=s,p=r;break;case 4:l=u,c=a,p=r;break;case 5:l=r,c=a,p=s}var f=[Math.floor(255*l),Math.floor(255*c),Math.floor(255*p)];return f}function s(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=(2-n)*r;return[e,Math.round(n*r/(i<1?i:2-i)*1e4)/100,i/2*100]}return n})?r.apply(e,i):r)||(t.exports=o)},function(t,e){var n={displayValue:function(t){return void 0===t||null===t?t:t instanceof Date?t.toLocaleString():"object"==typeof t||"number"==typeof t||"string"==typeof t?t.toString():t},getMode:function(t){if(0==t.length)return null;for(var e={},n=t[0],r=1,i=0;i<t.length;i++){var o=t[i];null==e[o]?e[o]=1:e[o]++,e[o]>r&&(n=o,r=e[o])}return n},renderProperty:function(t,e){return'<div class="mapbox-gl-inspect_property"><div class="mapbox-gl-inspect_property-name">'+t+'</div><div class="mapbox-gl-inspect_property-value">'+this.displayValue(e)+"</div></div>"},renderLayer:function(t){return'<div class="mapbox-gl-inspect_layer">'+t+"</div>"},renderProperties:function(t){var e=this,n=[];return Object.keys(t).map(function(r){var i=e.renderLayer(r),o=[];Object.keys(t[r]).map(function(n){var a=e.getMode(t[r][n]);null!=a&&o.push(i+e.renderProperty(n,a))}),n.push(o.join(""))}),n.join("")},calcModeForLayers:function(t,e){var n=t.layer["source-layer"]||t.layer.source;e[n]={},Object.keys(t.properties).map(function(r){r in e[n]?e[n][r].push(t.properties[r]):e[n][r]=[t.properties[r]]})},renderFeatures:function(t){var e=this,n={};return t.map(function(t){e.calcModeForLayers(t,n)}),'<div class="mapbox-gl-inspect_feature">'+e.renderProperties(n)+"</div>"}};t.exports=n}]);